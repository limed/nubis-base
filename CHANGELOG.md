# Change Log

## [v2.4.4](https://github.com/nubisproject/nubis-base/tree/v2.4.4) (2019-10-08)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.165...v2.4.4)

**Closed issues:**

- \[mig\] Delete [\#909](https://github.com/nubisproject/nubis-base/issues/909)
- Tag v2.4.3 release [\#906](https://github.com/nubisproject/nubis-base/issues/906)
- Tag v2.4.2 release [\#902](https://github.com/nubisproject/nubis-base/issues/902)
- Tag v2.4.0 release [\#896](https://github.com/nubisproject/nubis-base/issues/896)
- Tag v2.4.0 release [\#893](https://github.com/nubisproject/nubis-base/issues/893)
- Tag v2.3.1 release [\#889](https://github.com/nubisproject/nubis-base/issues/889)
- Tag v2.3.1 release [\#886](https://github.com/nubisproject/nubis-base/issues/886)
- Tag v2.3.0 release [\#880](https://github.com/nubisproject/nubis-base/issues/880)
- Typo in NUBIS\_ENVINRONMENT [\#878](https://github.com/nubisproject/nubis-base/issues/878)
- Tag v2.3.0 release [\#875](https://github.com/nubisproject/nubis-base/issues/875)
- Tag v2.3.0 release [\#870](https://github.com/nubisproject/nubis-base/issues/870)
- Tag v2.3.0 release [\#867](https://github.com/nubisproject/nubis-base/issues/867)
- \[consul\] %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% Not substituted anymore [\#865](https://github.com/nubisproject/nubis-base/issues/865)
- \[swap\] Setting swap size is broken [\#863](https://github.com/nubisproject/nubis-base/issues/863)
- Clean up metadata errors from consul and fluent startup [\#861](https://github.com/nubisproject/nubis-base/issues/861)
- Bump nubis-puppet-configuration module [\#859](https://github.com/nubisproject/nubis-base/issues/859)
- Fix nubis-gen-puppet to point to new hiera and yaml location [\#854](https://github.com/nubisproject/nubis-base/issues/854)
- Silence nubis-metadata outputs [\#850](https://github.com/nubisproject/nubis-base/issues/850)
- Fix gen-puppet script [\#848](https://github.com/nubisproject/nubis-base/issues/848)
- Tag v2.3.0 release [\#845](https://github.com/nubisproject/nubis-base/issues/845)
- Errors on login due to PS1 acript [\#843](https://github.com/nubisproject/nubis-base/issues/843)
- nubis-metadata init needs to happen \*before\* everything else [\#841](https://github.com/nubisproject/nubis-base/issues/841)
- Tag v2.3.0 release [\#838](https://github.com/nubisproject/nubis-base/issues/838)
- Update nubis-metadata to expose identity\_document values [\#836](https://github.com/nubisproject/nubis-base/issues/836)
- Tag v2.3.0 release [\#832](https://github.com/nubisproject/nubis-base/issues/832)
- Tag v2.3.0 release [\#829](https://github.com/nubisproject/nubis-base/issues/829)
- Tag v2.3.0 release [\#826](https://github.com/nubisproject/nubis-base/issues/826)
- Tag v2.3.0 release [\#823](https://github.com/nubisproject/nubis-base/issues/823)
- Tag v2.3.0 release [\#820](https://github.com/nubisproject/nubis-base/issues/820)
- Extend nubis-metadata to include identity document [\#817](https://github.com/nubisproject/nubis-base/issues/817)
- Tag v2.3.0 release [\#814](https://github.com/nubisproject/nubis-base/issues/814)
- \[gem\] Pin bundler at 1.16.1 [\#811](https://github.com/nubisproject/nubis-base/issues/811)
- Refactor nubis-lib.sh [\#808](https://github.com/nubisproject/nubis-base/issues/808)

**Merged pull requests:**

- Move unzip later in the install for ubuntu [\#911](https://github.com/nubisproject/nubis-base/pull/911) ([gozer](https://github.com/gozer))
- Remove MIG [\#910](https://github.com/nubisproject/nubis-base/pull/910) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.3 release \[skip ci\] [\#908](https://github.com/nubisproject/nubis-base/pull/908) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.3 release \[skip ci\] [\#907](https://github.com/nubisproject/nubis-base/pull/907) ([nubis-automation](https://github.com/nubis-automation))
- Merge v2.4.2 release into develop. \[skip ci\] [\#905](https://github.com/nubisproject/nubis-base/pull/905) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.2 release \[skip ci\] [\#904](https://github.com/nubisproject/nubis-base/pull/904) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.2 release \[skip ci\] [\#903](https://github.com/nubisproject/nubis-base/pull/903) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.1 release \[skip ci\] [\#900](https://github.com/nubisproject/nubis-base/pull/900) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#898](https://github.com/nubisproject/nubis-base/pull/898) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#897](https://github.com/nubisproject/nubis-base/pull/897) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#895](https://github.com/nubisproject/nubis-base/pull/895) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#894](https://github.com/nubisproject/nubis-base/pull/894) ([nubis-automation](https://github.com/nubis-automation))
- Update Travis-CI integration key for Slack [\#892](https://github.com/nubisproject/nubis-base/pull/892) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#891](https://github.com/nubisproject/nubis-base/pull/891) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#890](https://github.com/nubisproject/nubis-base/pull/890) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#888](https://github.com/nubisproject/nubis-base/pull/888) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#887](https://github.com/nubisproject/nubis-base/pull/887) ([nubis-automation](https://github.com/nubis-automation))
- Revert "Revert "New MIG agent release"" [\#885](https://github.com/nubisproject/nubis-base/pull/885) ([tinnightcap](https://github.com/tinnightcap))
- Revert "New MIG agent release" [\#884](https://github.com/nubisproject/nubis-base/pull/884) ([tinnightcap](https://github.com/tinnightcap))
- New MIG agent release [\#883](https://github.com/nubisproject/nubis-base/pull/883) ([arcrose](https://github.com/arcrose))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#882](https://github.com/nubisproject/nubis-base/pull/882) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#881](https://github.com/nubisproject/nubis-base/pull/881) ([nubis-automation](https://github.com/nubis-automation))
- Fix tyop preventing %%ENVIRONMENT%% expansion in /etc/consul [\#879](https://github.com/nubisproject/nubis-base/pull/879) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#877](https://github.com/nubisproject/nubis-base/pull/877) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#876](https://github.com/nubisproject/nubis-base/pull/876) ([nubis-automation](https://github.com/nubis-automation))
- Add a timeout waiting for userdata file [\#874](https://github.com/nubisproject/nubis-base/pull/874) ([tinnightcap](https://github.com/tinnightcap))
- Wait for cloud-init to create userdata file [\#873](https://github.com/nubisproject/nubis-base/pull/873) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#872](https://github.com/nubisproject/nubis-base/pull/872) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#871](https://github.com/nubisproject/nubis-base/pull/871) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#869](https://github.com/nubisproject/nubis-base/pull/869) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#868](https://github.com/nubisproject/nubis-base/pull/868) ([nubis-automation](https://github.com/nubis-automation))
- Add back %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% substitution to /etc/consul/\* [\#866](https://github.com/nubisproject/nubis-base/pull/866) ([gozer](https://github.com/gozer))
- Use the metadata value for swap, if provided [\#864](https://github.com/nubisproject/nubis-base/pull/864) ([gozer](https://github.com/gozer))
- Fix metadata errors from fluent and consul startup scripts [\#862](https://github.com/nubisproject/nubis-base/pull/862) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-configuration tag [\#860](https://github.com/nubisproject/nubis-base/pull/860) ([limed](https://github.com/limed))
- Expose caller to nubis-metadata [\#858](https://github.com/nubisproject/nubis-base/pull/858) ([tinnightcap](https://github.com/tinnightcap))
- Cleanup extra artifacts. Bug already fixed in release [\#857](https://github.com/nubisproject/nubis-base/pull/857) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-nubis\_users to v1.5.0 [\#856](https://github.com/nubisproject/nubis-base/pull/856) ([tinnightcap](https://github.com/tinnightcap))
- Pointing hiera config to new location [\#855](https://github.com/nubisproject/nubis-base/pull/855) ([limed](https://github.com/limed))
- Silence nubis-metadata output if output does not exist [\#851](https://github.com/nubisproject/nubis-base/pull/851) ([limed](https://github.com/limed))
- Fixing gen-puppet to deal with errors [\#849](https://github.com/nubisproject/nubis-base/pull/849) ([limed](https://github.com/limed))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#847](https://github.com/nubisproject/nubis-base/pull/847) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#846](https://github.com/nubisproject/nubis-base/pull/846) ([nubis-automation](https://github.com/nubis-automation))
- Fix errors on login [\#844](https://github.com/nubisproject/nubis-base/pull/844) ([tinnightcap](https://github.com/tinnightcap))
- Initialize our metadata cache \*before\* everything else [\#842](https://github.com/nubisproject/nubis-base/pull/842) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#840](https://github.com/nubisproject/nubis-base/pull/840) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#839](https://github.com/nubisproject/nubis-base/pull/839) ([nubis-automation](https://github.com/nubis-automation))
- Update nubis-metadata [\#837](https://github.com/nubisproject/nubis-base/pull/837) ([tinnightcap](https://github.com/tinnightcap))
- Whitespace indenting only [\#835](https://github.com/nubisproject/nubis-base/pull/835) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#834](https://github.com/nubisproject/nubis-base/pull/834) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#833](https://github.com/nubisproject/nubis-base/pull/833) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#831](https://github.com/nubisproject/nubis-base/pull/831) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#830](https://github.com/nubisproject/nubis-base/pull/830) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#828](https://github.com/nubisproject/nubis-base/pull/828) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#827](https://github.com/nubisproject/nubis-base/pull/827) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#825](https://github.com/nubisproject/nubis-base/pull/825) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#824](https://github.com/nubisproject/nubis-base/pull/824) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#822](https://github.com/nubisproject/nubis-base/pull/822) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#821](https://github.com/nubisproject/nubis-base/pull/821) ([nubis-automation](https://github.com/nubis-automation))
- Expose instance identity document on host [\#818](https://github.com/nubisproject/nubis-base/pull/818) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#816](https://github.com/nubisproject/nubis-base/pull/816) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#815](https://github.com/nubisproject/nubis-base/pull/815) ([nubis-automation](https://github.com/nubis-automation))
- Pin bundler at 1.16.1 [\#812](https://github.com/nubisproject/nubis-base/pull/812) ([gozer](https://github.com/gozer))
- Refactor nubis-lib [\#809](https://github.com/nubisproject/nubis-base/pull/809) ([limed](https://github.com/limed))

## [v2.4.3](https://github.com/nubisproject/nubis-base/tree/v2.4.3) (2019-06-24)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.165...v2.4.3)

**Closed issues:**

- Tag v2.4.2 release [\#902](https://github.com/nubisproject/nubis-base/issues/902)
- Tag v2.4.0 release [\#896](https://github.com/nubisproject/nubis-base/issues/896)
- Tag v2.4.0 release [\#893](https://github.com/nubisproject/nubis-base/issues/893)
- Tag v2.3.1 release [\#889](https://github.com/nubisproject/nubis-base/issues/889)
- Tag v2.3.1 release [\#886](https://github.com/nubisproject/nubis-base/issues/886)
- Tag v2.3.0 release [\#880](https://github.com/nubisproject/nubis-base/issues/880)
- Typo in NUBIS\_ENVINRONMENT [\#878](https://github.com/nubisproject/nubis-base/issues/878)
- Tag v2.3.0 release [\#875](https://github.com/nubisproject/nubis-base/issues/875)
- Tag v2.3.0 release [\#870](https://github.com/nubisproject/nubis-base/issues/870)
- Tag v2.3.0 release [\#867](https://github.com/nubisproject/nubis-base/issues/867)
- \[consul\] %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% Not substituted anymore [\#865](https://github.com/nubisproject/nubis-base/issues/865)
- \[swap\] Setting swap size is broken [\#863](https://github.com/nubisproject/nubis-base/issues/863)
- Clean up metadata errors from consul and fluent startup [\#861](https://github.com/nubisproject/nubis-base/issues/861)
- Bump nubis-puppet-configuration module [\#859](https://github.com/nubisproject/nubis-base/issues/859)
- Fix nubis-gen-puppet to point to new hiera and yaml location [\#854](https://github.com/nubisproject/nubis-base/issues/854)
- Silence nubis-metadata outputs [\#850](https://github.com/nubisproject/nubis-base/issues/850)
- Fix gen-puppet script [\#848](https://github.com/nubisproject/nubis-base/issues/848)
- Tag v2.3.0 release [\#845](https://github.com/nubisproject/nubis-base/issues/845)
- Errors on login due to PS1 acript [\#843](https://github.com/nubisproject/nubis-base/issues/843)
- nubis-metadata init needs to happen \*before\* everything else [\#841](https://github.com/nubisproject/nubis-base/issues/841)
- Tag v2.3.0 release [\#838](https://github.com/nubisproject/nubis-base/issues/838)
- Update nubis-metadata to expose identity\_document values [\#836](https://github.com/nubisproject/nubis-base/issues/836)
- Tag v2.3.0 release [\#832](https://github.com/nubisproject/nubis-base/issues/832)
- Tag v2.3.0 release [\#829](https://github.com/nubisproject/nubis-base/issues/829)
- Tag v2.3.0 release [\#826](https://github.com/nubisproject/nubis-base/issues/826)
- Tag v2.3.0 release [\#823](https://github.com/nubisproject/nubis-base/issues/823)
- Tag v2.3.0 release [\#820](https://github.com/nubisproject/nubis-base/issues/820)
- Extend nubis-metadata to include identity document [\#817](https://github.com/nubisproject/nubis-base/issues/817)
- Tag v2.3.0 release [\#814](https://github.com/nubisproject/nubis-base/issues/814)
- \[gem\] Pin bundler at 1.16.1 [\#811](https://github.com/nubisproject/nubis-base/issues/811)
- Refactor nubis-lib.sh [\#808](https://github.com/nubisproject/nubis-base/issues/808)
- Upgarde to nubis-puppet-configureation 1.3.5 for metadata fixes [\#805](https://github.com/nubisproject/nubis-base/issues/805)
- Use nubis-metadata instead of AWS user-data directly [\#803](https://github.com/nubisproject/nubis-base/issues/803)
- \[nubis-metadata\] Stop querying AWS metadata [\#801](https://github.com/nubisproject/nubis-base/issues/801)

**Merged pull requests:**

- Merge v2.4.2 release into develop. \[skip ci\] [\#905](https://github.com/nubisproject/nubis-base/pull/905) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.2 release \[skip ci\] [\#904](https://github.com/nubisproject/nubis-base/pull/904) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.2 release \[skip ci\] [\#903](https://github.com/nubisproject/nubis-base/pull/903) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.1 release \[skip ci\] [\#900](https://github.com/nubisproject/nubis-base/pull/900) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#898](https://github.com/nubisproject/nubis-base/pull/898) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#897](https://github.com/nubisproject/nubis-base/pull/897) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#895](https://github.com/nubisproject/nubis-base/pull/895) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#894](https://github.com/nubisproject/nubis-base/pull/894) ([nubis-automation](https://github.com/nubis-automation))
- Update Travis-CI integration key for Slack [\#892](https://github.com/nubisproject/nubis-base/pull/892) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#891](https://github.com/nubisproject/nubis-base/pull/891) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#890](https://github.com/nubisproject/nubis-base/pull/890) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#888](https://github.com/nubisproject/nubis-base/pull/888) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#887](https://github.com/nubisproject/nubis-base/pull/887) ([nubis-automation](https://github.com/nubis-automation))
- Revert "Revert "New MIG agent release"" [\#885](https://github.com/nubisproject/nubis-base/pull/885) ([tinnightcap](https://github.com/tinnightcap))
- Revert "New MIG agent release" [\#884](https://github.com/nubisproject/nubis-base/pull/884) ([tinnightcap](https://github.com/tinnightcap))
- New MIG agent release [\#883](https://github.com/nubisproject/nubis-base/pull/883) ([arcrose](https://github.com/arcrose))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#882](https://github.com/nubisproject/nubis-base/pull/882) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#881](https://github.com/nubisproject/nubis-base/pull/881) ([nubis-automation](https://github.com/nubis-automation))
- Fix tyop preventing %%ENVIRONMENT%% expansion in /etc/consul [\#879](https://github.com/nubisproject/nubis-base/pull/879) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#877](https://github.com/nubisproject/nubis-base/pull/877) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#876](https://github.com/nubisproject/nubis-base/pull/876) ([nubis-automation](https://github.com/nubis-automation))
- Add a timeout waiting for userdata file [\#874](https://github.com/nubisproject/nubis-base/pull/874) ([tinnightcap](https://github.com/tinnightcap))
- Wait for cloud-init to create userdata file [\#873](https://github.com/nubisproject/nubis-base/pull/873) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#872](https://github.com/nubisproject/nubis-base/pull/872) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#871](https://github.com/nubisproject/nubis-base/pull/871) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#869](https://github.com/nubisproject/nubis-base/pull/869) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#868](https://github.com/nubisproject/nubis-base/pull/868) ([nubis-automation](https://github.com/nubis-automation))
- Add back %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% substitution to /etc/consul/\* [\#866](https://github.com/nubisproject/nubis-base/pull/866) ([gozer](https://github.com/gozer))
- Use the metadata value for swap, if provided [\#864](https://github.com/nubisproject/nubis-base/pull/864) ([gozer](https://github.com/gozer))
- Fix metadata errors from fluent and consul startup scripts [\#862](https://github.com/nubisproject/nubis-base/pull/862) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-configuration tag [\#860](https://github.com/nubisproject/nubis-base/pull/860) ([limed](https://github.com/limed))
- Expose caller to nubis-metadata [\#858](https://github.com/nubisproject/nubis-base/pull/858) ([tinnightcap](https://github.com/tinnightcap))
- Cleanup extra artifacts. Bug already fixed in release [\#857](https://github.com/nubisproject/nubis-base/pull/857) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-nubis\_users to v1.5.0 [\#856](https://github.com/nubisproject/nubis-base/pull/856) ([tinnightcap](https://github.com/tinnightcap))
- Pointing hiera config to new location [\#855](https://github.com/nubisproject/nubis-base/pull/855) ([limed](https://github.com/limed))
- Silence nubis-metadata output if output does not exist [\#851](https://github.com/nubisproject/nubis-base/pull/851) ([limed](https://github.com/limed))
- Fixing gen-puppet to deal with errors [\#849](https://github.com/nubisproject/nubis-base/pull/849) ([limed](https://github.com/limed))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#847](https://github.com/nubisproject/nubis-base/pull/847) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#846](https://github.com/nubisproject/nubis-base/pull/846) ([nubis-automation](https://github.com/nubis-automation))
- Fix errors on login [\#844](https://github.com/nubisproject/nubis-base/pull/844) ([tinnightcap](https://github.com/tinnightcap))
- Initialize our metadata cache \*before\* everything else [\#842](https://github.com/nubisproject/nubis-base/pull/842) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#840](https://github.com/nubisproject/nubis-base/pull/840) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#839](https://github.com/nubisproject/nubis-base/pull/839) ([nubis-automation](https://github.com/nubis-automation))
- Update nubis-metadata [\#837](https://github.com/nubisproject/nubis-base/pull/837) ([tinnightcap](https://github.com/tinnightcap))
- Whitespace indenting only [\#835](https://github.com/nubisproject/nubis-base/pull/835) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#834](https://github.com/nubisproject/nubis-base/pull/834) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#833](https://github.com/nubisproject/nubis-base/pull/833) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#831](https://github.com/nubisproject/nubis-base/pull/831) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#830](https://github.com/nubisproject/nubis-base/pull/830) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#828](https://github.com/nubisproject/nubis-base/pull/828) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#827](https://github.com/nubisproject/nubis-base/pull/827) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#825](https://github.com/nubisproject/nubis-base/pull/825) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#824](https://github.com/nubisproject/nubis-base/pull/824) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#822](https://github.com/nubisproject/nubis-base/pull/822) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#821](https://github.com/nubisproject/nubis-base/pull/821) ([nubis-automation](https://github.com/nubis-automation))
- Expose instance identity document on host [\#818](https://github.com/nubisproject/nubis-base/pull/818) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#816](https://github.com/nubisproject/nubis-base/pull/816) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#815](https://github.com/nubisproject/nubis-base/pull/815) ([nubis-automation](https://github.com/nubis-automation))
- Pin bundler at 1.16.1 [\#812](https://github.com/nubisproject/nubis-base/pull/812) ([gozer](https://github.com/gozer))
- Refactor nubis-lib [\#809](https://github.com/nubisproject/nubis-base/pull/809) ([limed](https://github.com/limed))
- Upgrade to nubis-puppet-configuration v1.3.5 [\#806](https://github.com/nubisproject/nubis-base/pull/806) ([gozer](https://github.com/gozer))
- Use nubis-metadata [\#804](https://github.com/nubisproject/nubis-base/pull/804) ([gozer](https://github.com/gozer))
- \[nubis-metadata\] Detect usage of cloud-init and avoid AWS metadata API in that case [\#802](https://github.com/nubisproject/nubis-base/pull/802) ([gozer](https://github.com/gozer))

## [v2.4.2](https://github.com/nubisproject/nubis-base/tree/v2.4.2) (2019-06-19)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.4.0...v2.4.2)

**Closed issues:**

- Tag v2.4.0 release [\#896](https://github.com/nubisproject/nubis-base/issues/896)

**Merged pull requests:**

- Update CHANGELOG for v2.4.2 release \[skip ci\] [\#903](https://github.com/nubisproject/nubis-base/pull/903) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.4.1 release \[skip ci\] [\#900](https://github.com/nubisproject/nubis-base/pull/900) ([gozer](https://github.com/gozer))

## [v2.4.0](https://github.com/nubisproject/nubis-base/tree/v2.4.0) (2019-03-06)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.3.1...v2.4.0)

**Closed issues:**

- Tag v2.4.0 release [\#893](https://github.com/nubisproject/nubis-base/issues/893)

**Merged pull requests:**

- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#898](https://github.com/nubisproject/nubis-base/pull/898) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#897](https://github.com/nubisproject/nubis-base/pull/897) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#895](https://github.com/nubisproject/nubis-base/pull/895) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.4.0 release \[skip ci\] [\#894](https://github.com/nubisproject/nubis-base/pull/894) ([nubis-automation](https://github.com/nubis-automation))
- Update Travis-CI integration key for Slack [\#892](https://github.com/nubisproject/nubis-base/pull/892) ([gozer](https://github.com/gozer))

## [v2.3.1](https://github.com/nubisproject/nubis-base/tree/v2.3.1) (2018-08-21)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.3.0...v2.3.1)

**Closed issues:**

- Tag v2.3.1 release [\#889](https://github.com/nubisproject/nubis-base/issues/889)
- Tag v2.3.1 release [\#886](https://github.com/nubisproject/nubis-base/issues/886)

**Merged pull requests:**

- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#891](https://github.com/nubisproject/nubis-base/pull/891) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#890](https://github.com/nubisproject/nubis-base/pull/890) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#888](https://github.com/nubisproject/nubis-base/pull/888) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.1 release \[skip ci\] [\#887](https://github.com/nubisproject/nubis-base/pull/887) ([nubis-automation](https://github.com/nubis-automation))
- Revert "Revert "New MIG agent release"" [\#885](https://github.com/nubisproject/nubis-base/pull/885) ([tinnightcap](https://github.com/tinnightcap))
- Revert "New MIG agent release" [\#884](https://github.com/nubisproject/nubis-base/pull/884) ([tinnightcap](https://github.com/tinnightcap))
- New MIG agent release [\#883](https://github.com/nubisproject/nubis-base/pull/883) ([arcrose](https://github.com/arcrose))

## [v2.3.0](https://github.com/nubisproject/nubis-base/tree/v2.3.0) (2018-08-07)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.2.0...v2.3.0)

**Closed issues:**

- Typo in NUBIS\_ENVINRONMENT [\#878](https://github.com/nubisproject/nubis-base/issues/878)
- \[consul\] %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% Not substituted anymore [\#865](https://github.com/nubisproject/nubis-base/issues/865)
- \[swap\] Setting swap size is broken [\#863](https://github.com/nubisproject/nubis-base/issues/863)
- Clean up metadata errors from consul and fluent startup [\#861](https://github.com/nubisproject/nubis-base/issues/861)
- Bump nubis-puppet-configuration module [\#859](https://github.com/nubisproject/nubis-base/issues/859)
- Fix nubis-gen-puppet to point to new hiera and yaml location [\#854](https://github.com/nubisproject/nubis-base/issues/854)
- Silence nubis-metadata outputs [\#850](https://github.com/nubisproject/nubis-base/issues/850)
- Fix gen-puppet script [\#848](https://github.com/nubisproject/nubis-base/issues/848)
- Errors on login due to PS1 acript [\#843](https://github.com/nubisproject/nubis-base/issues/843)
- nubis-metadata init needs to happen \*before\* everything else [\#841](https://github.com/nubisproject/nubis-base/issues/841)
- Update nubis-metadata to expose identity\_document values [\#836](https://github.com/nubisproject/nubis-base/issues/836)
- Extend nubis-metadata to include identity document [\#817](https://github.com/nubisproject/nubis-base/issues/817)
- \[gem\] Pin bundler at 1.16.1 [\#811](https://github.com/nubisproject/nubis-base/issues/811)
- Refactor nubis-lib.sh [\#808](https://github.com/nubisproject/nubis-base/issues/808)
- Upgarde to nubis-puppet-configureation 1.3.5 for metadata fixes [\#805](https://github.com/nubisproject/nubis-base/issues/805)
- Use nubis-metadata instead of AWS user-data directly [\#803](https://github.com/nubisproject/nubis-base/issues/803)
- \[nubis-metadata\] Stop querying AWS metadata [\#801](https://github.com/nubisproject/nubis-base/issues/801)
- Extend nubis-metadata so it can also include information from AWS instance-identity/document [\#346](https://github.com/nubisproject/nubis-base/issues/346)
- Convert scripts to using nubis-metadata instead of fetching user-data themselves [\#345](https://github.com/nubisproject/nubis-base/issues/345)
- Tag v2.3.0 release [\#880](https://github.com/nubisproject/nubis-base/issues/880)
- Tag v2.3.0 release [\#875](https://github.com/nubisproject/nubis-base/issues/875)
- Tag v2.3.0 release [\#870](https://github.com/nubisproject/nubis-base/issues/870)
- Tag v2.3.0 release [\#867](https://github.com/nubisproject/nubis-base/issues/867)
- Tag v2.3.0 release [\#845](https://github.com/nubisproject/nubis-base/issues/845)
- Tag v2.3.0 release [\#838](https://github.com/nubisproject/nubis-base/issues/838)
- Tag v2.3.0 release [\#832](https://github.com/nubisproject/nubis-base/issues/832)
- Tag v2.3.0 release [\#829](https://github.com/nubisproject/nubis-base/issues/829)
- Tag v2.3.0 release [\#826](https://github.com/nubisproject/nubis-base/issues/826)
- Tag v2.3.0 release [\#823](https://github.com/nubisproject/nubis-base/issues/823)
- Tag v2.3.0 release [\#820](https://github.com/nubisproject/nubis-base/issues/820)
- Tag v2.3.0 release [\#814](https://github.com/nubisproject/nubis-base/issues/814)

**Merged pull requests:**

- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#882](https://github.com/nubisproject/nubis-base/pull/882) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#881](https://github.com/nubisproject/nubis-base/pull/881) ([nubis-automation](https://github.com/nubis-automation))
- Fix tyop preventing %%ENVIRONMENT%% expansion in /etc/consul [\#879](https://github.com/nubisproject/nubis-base/pull/879) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#877](https://github.com/nubisproject/nubis-base/pull/877) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#876](https://github.com/nubisproject/nubis-base/pull/876) ([nubis-automation](https://github.com/nubis-automation))
- Add a timeout waiting for userdata file [\#874](https://github.com/nubisproject/nubis-base/pull/874) ([tinnightcap](https://github.com/tinnightcap))
- Wait for cloud-init to create userdata file [\#873](https://github.com/nubisproject/nubis-base/pull/873) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#872](https://github.com/nubisproject/nubis-base/pull/872) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#871](https://github.com/nubisproject/nubis-base/pull/871) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#869](https://github.com/nubisproject/nubis-base/pull/869) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#868](https://github.com/nubisproject/nubis-base/pull/868) ([nubis-automation](https://github.com/nubis-automation))
- Add back %%PURPOSE%% %%STACK%% %%ENVIRONMENT%% substitution to /etc/consul/\* [\#866](https://github.com/nubisproject/nubis-base/pull/866) ([gozer](https://github.com/gozer))
- Use the metadata value for swap, if provided [\#864](https://github.com/nubisproject/nubis-base/pull/864) ([gozer](https://github.com/gozer))
- Fix metadata errors from fluent and consul startup scripts [\#862](https://github.com/nubisproject/nubis-base/pull/862) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-configuration tag [\#860](https://github.com/nubisproject/nubis-base/pull/860) ([limed](https://github.com/limed))
- Expose caller to nubis-metadata [\#858](https://github.com/nubisproject/nubis-base/pull/858) ([tinnightcap](https://github.com/tinnightcap))
- Cleanup extra artifacts. Bug already fixed in release [\#857](https://github.com/nubisproject/nubis-base/pull/857) ([tinnightcap](https://github.com/tinnightcap))
- Bump nubis-puppet-nubis\_users to v1.5.0 [\#856](https://github.com/nubisproject/nubis-base/pull/856) ([tinnightcap](https://github.com/tinnightcap))
- Pointing hiera config to new location [\#855](https://github.com/nubisproject/nubis-base/pull/855) ([limed](https://github.com/limed))
- Silence nubis-metadata output if output does not exist [\#851](https://github.com/nubisproject/nubis-base/pull/851) ([limed](https://github.com/limed))
- Fixing gen-puppet to deal with errors [\#849](https://github.com/nubisproject/nubis-base/pull/849) ([limed](https://github.com/limed))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#847](https://github.com/nubisproject/nubis-base/pull/847) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#846](https://github.com/nubisproject/nubis-base/pull/846) ([nubis-automation](https://github.com/nubis-automation))
- Fix errors on login [\#844](https://github.com/nubisproject/nubis-base/pull/844) ([tinnightcap](https://github.com/tinnightcap))
- Initialize our metadata cache \*before\* everything else [\#842](https://github.com/nubisproject/nubis-base/pull/842) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#840](https://github.com/nubisproject/nubis-base/pull/840) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#839](https://github.com/nubisproject/nubis-base/pull/839) ([nubis-automation](https://github.com/nubis-automation))
- Update nubis-metadata [\#837](https://github.com/nubisproject/nubis-base/pull/837) ([tinnightcap](https://github.com/tinnightcap))
- Whitespace indenting only [\#835](https://github.com/nubisproject/nubis-base/pull/835) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#834](https://github.com/nubisproject/nubis-base/pull/834) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#833](https://github.com/nubisproject/nubis-base/pull/833) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#831](https://github.com/nubisproject/nubis-base/pull/831) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#830](https://github.com/nubisproject/nubis-base/pull/830) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#828](https://github.com/nubisproject/nubis-base/pull/828) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#827](https://github.com/nubisproject/nubis-base/pull/827) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#825](https://github.com/nubisproject/nubis-base/pull/825) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#824](https://github.com/nubisproject/nubis-base/pull/824) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#822](https://github.com/nubisproject/nubis-base/pull/822) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#821](https://github.com/nubisproject/nubis-base/pull/821) ([nubis-automation](https://github.com/nubis-automation))
- Expose instance identity document on host [\#818](https://github.com/nubisproject/nubis-base/pull/818) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#816](https://github.com/nubisproject/nubis-base/pull/816) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.3.0 release \[skip ci\] [\#815](https://github.com/nubisproject/nubis-base/pull/815) ([nubis-automation](https://github.com/nubis-automation))
- Pin bundler at 1.16.1 [\#812](https://github.com/nubisproject/nubis-base/pull/812) ([gozer](https://github.com/gozer))
- Refactor nubis-lib [\#809](https://github.com/nubisproject/nubis-base/pull/809) ([limed](https://github.com/limed))
- Upgrade to nubis-puppet-configuration v1.3.5 [\#806](https://github.com/nubisproject/nubis-base/pull/806) ([gozer](https://github.com/gozer))
- Use nubis-metadata [\#804](https://github.com/nubisproject/nubis-base/pull/804) ([gozer](https://github.com/gozer))
- \[nubis-metadata\] Detect usage of cloud-init and avoid AWS metadata API in that case [\#802](https://github.com/nubisproject/nubis-base/pull/802) ([gozer](https://github.com/gozer))

## [v2.2.0](https://github.com/nubisproject/nubis-base/tree/v2.2.0) (2018-04-06)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.1.0...v2.2.0)

**Closed issues:**

- \[nubis-cron\] Capture output and ship to ES [\#796](https://github.com/nubisproject/nubis-base/issues/796)
- \[taint\] Issues aws ec2 terminate-instance call on taint reaping [\#793](https://github.com/nubisproject/nubis-base/issues/793)
- \[taint\] Allow disabling of auto-tainting for certain special automation users [\#791](https://github.com/nubisproject/nubis-base/issues/791)
- \[puppet\] Upgrade to nubis-nubis\_configuration 1.3.4 [\#786](https://github.com/nubisproject/nubis-base/issues/786)
- \[puppet\] Upgrade to nubis-puppet-apache 0.1.15 [\#784](https://github.com/nubisproject/nubis-base/issues/784)
- Update nubis-travis to v1.5.0 [\#759](https://github.com/nubisproject/nubis-base/issues/759)
- \[node\_exporter\] Expose a platform tag [\#585](https://github.com/nubisproject/nubis-base/issues/585)
- Tag v2.2.0 release [\#798](https://github.com/nubisproject/nubis-base/issues/798)

**Merged pull requests:**

- Update CHANGELOG for v2.2.0 release \[skip ci\] [\#800](https://github.com/nubisproject/nubis-base/pull/800) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.2.0 release \[skip ci\] [\#799](https://github.com/nubisproject/nubis-base/pull/799) ([nubis-automation](https://github.com/nubis-automation))
- Capture nubis-cron logs and ship them to ElasticSearch [\#797](https://github.com/nubisproject/nubis-base/pull/797) ([gozer](https://github.com/gozer))
- Allow system user to disable auto-tainting [\#795](https://github.com/nubisproject/nubis-base/pull/795) ([gozer](https://github.com/gozer))
- Try and use AWS APIs to gracefully terminate instances [\#794](https://github.com/nubisproject/nubis-base/pull/794) ([gozer](https://github.com/gozer))
- Upgrade nubis-puppet-configuration to 1.3.4 [\#792](https://github.com/nubisproject/nubis-base/pull/792) ([gozer](https://github.com/gozer))
- Update Slack integration token [\#790](https://github.com/nubisproject/nubis-base/pull/790) ([tinnightcap](https://github.com/tinnightcap))
- Expose platform label [\#789](https://github.com/nubisproject/nubis-base/pull/789) ([limed](https://github.com/limed))
- Migrate to travis docker checks [\#788](https://github.com/nubisproject/nubis-base/pull/788) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade nubis-puppet-apache to 0.1.15 [\#785](https://github.com/nubisproject/nubis-base/pull/785) ([gozer](https://github.com/gozer))

## [v2.1.0](https://github.com/nubisproject/nubis-base/tree/v2.1.0) (2018-02-07)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.0.4...v2.1.0)

**Implemented enhancements:**

- Replace Amazon Linux with CentOS [\#154](https://github.com/nubisproject/nubis-base/issues/154)

**Closed issues:**

- Create a swap partition on boot [\#778](https://github.com/nubisproject/nubis-base/issues/778)
- Ensure nubis user \*always\* exists [\#771](https://github.com/nubisproject/nubis-base/issues/771)
- \[fluentd\] Upgrade to Fluentd 0.14 / td-agent 3.x [\#770](https://github.com/nubisproject/nubis-base/issues/770)
- \[prompt\] include environment, if available [\#769](https://github.com/nubisproject/nubis-base/issues/769)
- Upgrade puppet-storage to 1.2.5 [\#768](https://github.com/nubisproject/nubis-base/issues/768)
- Upgrade to nubis-puppet-nubis\_users 1.4.3 [\#766](https://github.com/nubisproject/nubis-base/issues/766)
- Disable firewalld for centos host [\#765](https://github.com/nubisproject/nubis-base/issues/765)
- Tag v2.1.0 release [\#780](https://github.com/nubisproject/nubis-base/issues/780)
- Tag v2.1.0 release [\#775](https://github.com/nubisproject/nubis-base/issues/775)
- \[node-collector\] Verify what data we are collecting [\#721](https://github.com/nubisproject/nubis-base/issues/721)
- \[node-exporter\] Upgrade node-exporter to v0.15.0 [\#720](https://github.com/nubisproject/nubis-base/issues/720)
- \[node\_exporter\] Expose nubis base version [\#704](https://github.com/nubisproject/nubis-base/issues/704)
- /etc/profile.d/proxy.sh can sometimes \*not\* set PROXY\_\* variables at all [\#681](https://github.com/nubisproject/nubis-base/issues/681)
- \[centos\] Disable SELinux [\#559](https://github.com/nubisproject/nubis-base/issues/559)
- \[node\_exporter\] Export the ASG information for a node as part of the node metrics [\#480](https://github.com/nubisproject/nubis-base/issues/480)

**Merged pull requests:**

- Update CHANGELOG for v2.1.0 release \[skip ci\] [\#782](https://github.com/nubisproject/nubis-base/pull/782) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.1.0 release \[skip ci\] [\#781](https://github.com/nubisproject/nubis-base/pull/781) ([nubis-automation](https://github.com/nubis-automation))
- Handle swap creation for instances at boot time [\#779](https://github.com/nubisproject/nubis-base/pull/779) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v2.1.0 release \[skip ci\] [\#777](https://github.com/nubisproject/nubis-base/pull/777) ([nubis-automation](https://github.com/nubis-automation))
- Update CHANGELOG for v2.1.0 release \[skip ci\] [\#776](https://github.com/nubisproject/nubis-base/pull/776) ([nubis-automation](https://github.com/nubis-automation))
- Final small update to using '@type' instead of the deprecated 'type' [\#774](https://github.com/nubisproject/nubis-base/pull/774) ([gozer](https://github.com/gozer))
- Upgrade nubis-puppet-storage to v1.2.5 [\#773](https://github.com/nubisproject/nubis-base/pull/773) ([gozer](https://github.com/gozer))
- Ensure we always create a nubis user [\#772](https://github.com/nubisproject/nubis-base/pull/772) ([gozer](https://github.com/gozer))
- Upgrade to puppet-user v1.4.3 [\#767](https://github.com/nubisproject/nubis-base/pull/767) ([gozer](https://github.com/gozer))

## [v2.0.4](https://github.com/nubisproject/nubis-base/tree/v2.0.4) (2017-12-08)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.0.3...v2.0.4)

**Implemented enhancements:**

- \[puppet\] Include logrotate puppet module [\#724](https://github.com/nubisproject/nubis-base/issues/724)

**Fixed bugs:**

- \[node\_exporter\] Custom prometheus metric created in file now require help [\#737](https://github.com/nubisproject/nubis-base/issues/737)

**Closed issues:**

- Duo doesn't work on cent 7 hosts [\#756](https://github.com/nubisproject/nubis-base/issues/756)
- \[proxy\] Make sure we handle the case where we actually don't expect a proxy to be present [\#754](https://github.com/nubisproject/nubis-base/issues/754)
- Install vim-enhanced for centos [\#753](https://github.com/nubisproject/nubis-base/issues/753)
- Upgrade to nubis-storage 1.2.4 [\#751](https://github.com/nubisproject/nubis-base/issues/751)
- \[duo\] /etc/duo/pam\_duo.conf should allow only root to read [\#748](https://github.com/nubisproject/nubis-base/issues/748)
- \[Centennial\] Upgrade nubis-puppet-nubis\_users 0.5.0 [\#745](https://github.com/nubisproject/nubis-base/issues/745)
- \[Centennial\] Upgrade nubis-puppet-apache 0.1.14 [\#744](https://github.com/nubisproject/nubis-base/issues/744)
- \[centennial\] Upgrade nubis-puppet-configuration to 1.3.3 [\#743](https://github.com/nubisproject/nubis-base/issues/743)
- \[centennial\] Upgrade nubis-puppet-storage to 1.2.3 [\#742](https://github.com/nubisproject/nubis-base/issues/742)
- Upgrade to nubis-puppet-apache v0.1.13 [\#739](https://github.com/nubisproject/nubis-base/issues/739)
- \[apt\] Disable cronjob [\#736](https://github.com/nubisproject/nubis-base/issues/736)
- \[puppet\] Upgrade nubis-discovery to v1.3.4 [\#732](https://github.com/nubisproject/nubis-base/issues/732)
- \[prompt\] Add NUBIS\_ENVIRONMENT if present to the PS1 prompt [\#728](https://github.com/nubisproject/nubis-base/issues/728)
- \[duo\] Upgraded package available 1.10.0-0.el6 [\#687](https://github.com/nubisproject/nubis-base/issues/687)
- Tag v2.0.4 release [\#764](https://github.com/nubisproject/nubis-base/issues/764)
- Tag v2.0.4 release [\#763](https://github.com/nubisproject/nubis-base/issues/763)
- Tag v2.0.4 release [\#762](https://github.com/nubisproject/nubis-base/issues/762)
- Tag v2.0.4 release [\#761](https://github.com/nubisproject/nubis-base/issues/761)

**Merged pull requests:**

- Upgrade to nubis-travis v1.5.1 [\#760](https://github.com/nubisproject/nubis-base/pull/760) ([gozer](https://github.com/gozer))
- Fix duo not working for cent 7 host [\#758](https://github.com/nubisproject/nubis-base/pull/758) ([limed](https://github.com/limed))
- Install vim-enhanced [\#757](https://github.com/nubisproject/nubis-base/pull/757) ([limed](https://github.com/limed))
- Make sure we don't set proxy when we are expecting we can't [\#755](https://github.com/nubisproject/nubis-base/pull/755) ([gozer](https://github.com/gozer))
- Upgrade to nubis-storage v1.2.4 [\#752](https://github.com/nubisproject/nubis-base/pull/752) ([gozer](https://github.com/gozer))
- Make sure to always set PROXY\_\* environment variables no matter what [\#750](https://github.com/nubisproject/nubis-base/pull/750) ([gozer](https://github.com/gozer))
- /etc/duo/pam\_duo.conf needs to be 0600 for duo to be happy [\#749](https://github.com/nubisproject/nubis-base/pull/749) ([gozer](https://github.com/gozer))
- avoid pinning bind-utils [\#747](https://github.com/nubisproject/nubis-base/pull/747) ([gozer](https://github.com/gozer))
- \[Centennial\] [\#746](https://github.com/nubisproject/nubis-base/pull/746) ([gozer](https://github.com/gozer))
- \[patch v2.0.3-1\] Upgrade to nubis/apache v0.1.13 [\#740](https://github.com/nubisproject/nubis-base/pull/740) ([gozer](https://github.com/gozer))
- Upgrades node\_exporter to v0.15.0 [\#738](https://github.com/nubisproject/nubis-base/pull/738) ([limed](https://github.com/limed))

## [v2.0.3](https://github.com/nubisproject/nubis-base/tree/v2.0.3) (2017-11-02)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.0.2...v2.0.3)

**Closed issues:**

- Tag v2.0.3 release [\#733](https://github.com/nubisproject/nubis-base/issues/733)

**Merged pull requests:**

- Merge v2.0.3 release into develop. \[skip ci\] [\#735](https://github.com/nubisproject/nubis-base/pull/735) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.3 release \[skip ci\] [\#734](https://github.com/nubisproject/nubis-base/pull/734) ([tinnightcap](https://github.com/tinnightcap))

## [v2.0.2](https://github.com/nubisproject/nubis-base/tree/v2.0.2) (2017-10-24)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.0.1...v2.0.2)

**Closed issues:**

- Tag v2.0.2 release [\#729](https://github.com/nubisproject/nubis-base/issues/729)

**Merged pull requests:**

- Merge v2.0.2 release into develop. \[skip ci\] [\#731](https://github.com/nubisproject/nubis-base/pull/731) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.2 release \[skip ci\] [\#730](https://github.com/nubisproject/nubis-base/pull/730) ([tinnightcap](https://github.com/tinnightcap))

## [v2.0.1](https://github.com/nubisproject/nubis-base/tree/v2.0.1) (2017-10-13)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v2.0.0...v2.0.1)

**Implemented enhancements:**

- Keep project's nubis manifests on the generated images [\#132](https://github.com/nubisproject/nubis-base/issues/132)

**Closed issues:**

- Handle host keys correctly [\#713](https://github.com/nubisproject/nubis-base/issues/713)
- \[Proxy\] Use tinyproxy locally as our proxy [\#710](https://github.com/nubisproject/nubis-base/issues/710)
- \[confd\] Upgrade to 0.13.0 [\#705](https://github.com/nubisproject/nubis-base/issues/705)
- \[consul\] Upgrade to 0.8.5 [\#699](https://github.com/nubisproject/nubis-base/issues/699)
- \[puppet\] Upgrade puppet modules [\#591](https://github.com/nubisproject/nubis-base/issues/591)
- Remove credstash [\#523](https://github.com/nubisproject/nubis-base/issues/523)
- Convert user-data to JSON via jq parsing [\#49](https://github.com/nubisproject/nubis-base/issues/49)
- Tag v2.0.1 release [\#725](https://github.com/nubisproject/nubis-base/issues/725)

**Merged pull requests:**

- Merge v2.0.1 release into develop. \[skip ci\] [\#727](https://github.com/nubisproject/nubis-base/pull/727) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.1 release \[skip ci\] [\#726](https://github.com/nubisproject/nubis-base/pull/726) ([tinnightcap](https://github.com/tinnightcap))

## [v2.0.0](https://github.com/nubisproject/nubis-base/tree/v2.0.0) (2017-10-05)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.5.1...v2.0.0)

**Closed issues:**

- Tag v2.0.0 release [\#718](https://github.com/nubisproject/nubis-base/issues/718)
- Tag v2.0.0 release [\#715](https://github.com/nubisproject/nubis-base/issues/715)

**Merged pull requests:**

- Merge v2.0.0 release into develop. \[skip ci\] [\#723](https://github.com/nubisproject/nubis-base/pull/723) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.0 release \[skip ci\] [\#722](https://github.com/nubisproject/nubis-base/pull/722) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.0 release \[skip ci\] [\#719](https://github.com/nubisproject/nubis-base/pull/719) ([tinnightcap](https://github.com/tinnightcap))
- Merge v2.0.0 release into develop. \[skip ci\] [\#717](https://github.com/nubisproject/nubis-base/pull/717) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v2.0.0 release \[skip ci\] [\#716](https://github.com/nubisproject/nubis-base/pull/716) ([tinnightcap](https://github.com/tinnightcap))
- Arena Support [\#712](https://github.com/nubisproject/nubis-base/pull/712) ([gozer](https://github.com/gozer))
- Update to nubis-travis v1.4.2 [\#711](https://github.com/nubisproject/nubis-base/pull/711) ([tinnightcap](https://github.com/tinnightcap))
- Update nubis-travis to v1.4.0 [\#709](https://github.com/nubisproject/nubis-base/pull/709) ([tinnightcap](https://github.com/tinnightcap))
- Migrate to mozilla slack [\#707](https://github.com/nubisproject/nubis-base/pull/707) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade nubis-configuration to v1.3.1 [\#706](https://github.com/nubisproject/nubis-base/pull/706) ([gozer](https://github.com/gozer))

## [v1.5.1](https://github.com/nubisproject/nubis-base/tree/v1.5.1) (2017-08-18)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.5.0...v1.5.1)

**Closed issues:**

- \[puppet\] Upgrade to nubis\_apache v10.1.11 [\#697](https://github.com/nubisproject/nubis-base/issues/697)
- Upgrade to nubis-apache v1.0.10 to add tags [\#693](https://github.com/nubisproject/nubis-base/issues/693)
- \[consul-template\] Upgrade to v0.16.0 [\#691](https://github.com/nubisproject/nubis-base/issues/691)
- \[puppet\] Retain puppet masterless manifests somewhere predictable [\#690](https://github.com/nubisproject/nubis-base/issues/690)
- \[puppet\] Upgrade nubis-puppet-configuration to v1.3.0 [\#688](https://github.com/nubisproject/nubis-base/issues/688)
- Upgrade to nubis-puppet-discovery v1.3.2 [\#685](https://github.com/nubisproject/nubis-base/issues/685)
- Tag v1.5.1 release [\#700](https://github.com/nubisproject/nubis-base/issues/700)

**Merged pull requests:**

- Merge v1.5.1 release into develop. \[skip ci\] [\#703](https://github.com/nubisproject/nubis-base/pull/703) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.5.1 release \[skip ci\] [\#702](https://github.com/nubisproject/nubis-base/pull/702) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.5.1 release \[skip ci\] [\#701](https://github.com/nubisproject/nubis-base/pull/701) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade nubis\_apache to v0.1.11 [\#698](https://github.com/nubisproject/nubis-base/pull/698) ([gozer](https://github.com/gozer))
- Downgrade consul-template to v0.16.0 [\#696](https://github.com/nubisproject/nubis-base/pull/696) ([gozer](https://github.com/gozer))
- Retain puppet manifests on the instance [\#695](https://github.com/nubisproject/nubis-base/pull/695) ([gozer](https://github.com/gozer))
- Upgrade nubis-puppet-apache to v0.1.10 [\#694](https://github.com/nubisproject/nubis-base/pull/694) ([gozer](https://github.com/gozer))
- Upgrade consul-template to v0.19.0 [\#692](https://github.com/nubisproject/nubis-base/pull/692) ([gozer](https://github.com/gozer))
- Substitute %%PURPOSE%% on startup [\#689](https://github.com/nubisproject/nubis-base/pull/689) ([gozer](https://github.com/gozer))
- Upgrade to nubis-puppet-discovery v1.3.2 to silence a Puppet warning [\#686](https://github.com/nubisproject/nubis-base/pull/686) ([gozer](https://github.com/gozer))

## [v1.5.0](https://github.com/nubisproject/nubis-base/tree/v1.5.0) (2017-06-24)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.4.2...v1.5.0)

**Implemented enhancements:**

- Add cronsul to the base images [\#192](https://github.com/nubisproject/nubis-base/issues/192)

**Fixed bugs:**

- \[user-management\] /etc/nubis.d/01-gen-puppet holds up system bootup [\#623](https://github.com/nubisproject/nubis-base/issues/623)
- \[jq\] Upgrade to 1.5 [\#188](https://github.com/nubisproject/nubis-base/issues/188)

**Closed issues:**

- Ensure gen-puppet runs \*before\* confd, early in the boot process [\#679](https://github.com/nubisproject/nubis-base/issues/679)
- Upgrade to nubis-puppet-configuration v1.2.2 [\#677](https://github.com/nubisproject/nubis-base/issues/677)
- Upgrade puppet fluentd module [\#674](https://github.com/nubisproject/nubis-base/issues/674)
- apt-get does not work with the proxies [\#673](https://github.com/nubisproject/nubis-base/issues/673)
- /etc/nubis.d/confd missing [\#668](https://github.com/nubisproject/nubis-base/issues/668)
- \[puppet\] Upgrade nubis\_apache to v0.1.9 [\#665](https://github.com/nubisproject/nubis-base/issues/665)
- \[datadog\] Remove all traces of datadog [\#660](https://github.com/nubisproject/nubis-base/issues/660)
- \[fluentd\] Upgrade to ec2-metadata v0.0.16 [\#658](https://github.com/nubisproject/nubis-base/issues/658)
- \[ubuntu\] Upgrade Puppet to 3.8.7-1puppetlabs1 [\#656](https://github.com/nubisproject/nubis-base/issues/656)
- \[consul\] Upgrade to 0.8.3 [\#652](https://github.com/nubisproject/nubis-base/issues/652)
- \[puppet\] Cleanup /var/lib/puppet [\#622](https://github.com/nubisproject/nubis-base/issues/622)
- cron\[gen-puppet-watchdog\] runs \(and fails\) when user\_managment isn't enabled [\#579](https://github.com/nubisproject/nubis-base/issues/579)
- Tag v1.5.0 release [\#682](https://github.com/nubisproject/nubis-base/issues/682)

**Merged pull requests:**

- Merge v1.5.0 release into develop. \[skip ci\] [\#684](https://github.com/nubisproject/nubis-base/pull/684) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.5.0 release \[skip ci\] [\#683](https://github.com/nubisproject/nubis-base/pull/683) ([tinnightcap](https://github.com/tinnightcap))
- Move gen-puppet startup earlier in the boot process [\#680](https://github.com/nubisproject/nubis-base/pull/680) ([gozer](https://github.com/gozer))
- Upgrade to v1.2.2 [\#678](https://github.com/nubisproject/nubis-base/pull/678) ([gozer](https://github.com/gozer))
- Add DUO mfa to base [\#676](https://github.com/nubisproject/nubis-base/pull/676) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade to our latest version of the fork for a Prometheus bugfix [\#675](https://github.com/nubisproject/nubis-base/pull/675) ([gozer](https://github.com/gozer))
- Return success if we can't find /etc/puppet/yaml/nubis\_users/common.yaml [\#672](https://github.com/nubisproject/nubis-base/pull/672) ([gozer](https://github.com/gozer))
- Correctly remove puppet files recursively [\#671](https://github.com/nubisproject/nubis-base/pull/671) ([gozer](https://github.com/gozer))
- Revert "Run initial /etc/nubis.d/01-gen-puppet in the background during bootup" [\#670](https://github.com/nubisproject/nubis-base/pull/670) ([gozer](https://github.com/gozer))
- Make sure to inculde nubis\_configuration at least once [\#669](https://github.com/nubisproject/nubis-base/pull/669) ([gozer](https://github.com/gozer))
- Upgrade nubis\_apache to v0.1.9 [\#667](https://github.com/nubisproject/nubis-base/pull/667) ([gozer](https://github.com/gozer))
- Get rid of DataDog [\#664](https://github.com/nubisproject/nubis-base/pull/664) ([gozer](https://github.com/gozer))
- Upgrade jq to 1.5 and pin version there [\#663](https://github.com/nubisproject/nubis-base/pull/663) ([gozer](https://github.com/gozer))
- Fix: Downgrade fluent-plugin-ec2-metadata to 0.0.15 [\#662](https://github.com/nubisproject/nubis-base/pull/662) ([gozer](https://github.com/gozer))
- Cleanup /var/lib/puppet/\* after image build [\#661](https://github.com/nubisproject/nubis-base/pull/661) ([gozer](https://github.com/gozer))
- Upgrade fluentd-plugin-ec2-metadata to v0.0.16 [\#659](https://github.com/nubisproject/nubis-base/pull/659) ([gozer](https://github.com/gozer))
- Upgrade Ubuntu's Puppet to 3.8.7-1puppetlabs1 [\#657](https://github.com/nubisproject/nubis-base/pull/657) ([gozer](https://github.com/gozer))
- Make sure we use completely non-deterministic Consul host ids [\#655](https://github.com/nubisproject/nubis-base/pull/655) ([gozer](https://github.com/gozer))
- Upgrade to Consul 0.8.3 [\#654](https://github.com/nubisproject/nubis-base/pull/654) ([gozer](https://github.com/gozer))
- Run initial /etc/nubis.d/01-gen-puppet in the background during bootup [\#650](https://github.com/nubisproject/nubis-base/pull/650) ([gozer](https://github.com/gozer))

## [v1.4.2](https://github.com/nubisproject/nubis-base/tree/v1.4.2) (2017-05-03)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.5.0-dev...v1.4.2)

**Closed issues:**

- Tag v1.4.2 release [\#651](https://github.com/nubisproject/nubis-base/issues/651)
- Tag v1.4.2 release [\#647](https://github.com/nubisproject/nubis-base/issues/647)
- Tag v1.4.2 release [\#639](https://github.com/nubisproject/nubis-base/issues/639)

**Merged pull requests:**

- Merge v1.4.2 release into develop. \[skip ci\] [\#649](https://github.com/nubisproject/nubis-base/pull/649) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.2 release \[skip ci\] [\#648](https://github.com/nubisproject/nubis-base/pull/648) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.2 release \[skip ci\] [\#645](https://github.com/nubisproject/nubis-base/pull/645) ([tinnightcap](https://github.com/tinnightcap))

## [v1.5.0-dev](https://github.com/nubisproject/nubis-base/tree/v1.5.0-dev) (2017-05-02)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.4.1...v1.5.0-dev)

**Implemented enhancements:**

- Expose the technical owner to instances [\#131](https://github.com/nubisproject/nubis-base/issues/131)

**Closed issues:**

- \[test\] don't copy the test harness on disabled platform [\#634](https://github.com/nubisproject/nubis-base/issues/634)
- \[puppet\] Switch back to maxchk/varnish [\#632](https://github.com/nubisproject/nubis-base/issues/632)
- Add nubis/builder/artifacts/AMIs.json to .gitignore [\#627](https://github.com/nubisproject/nubis-base/issues/627)
- \[nubis\_apache\] Upgraade to v0.1.8 [\#624](https://github.com/nubisproject/nubis-base/issues/624)
- \[taint\] Make self-termination the default in v1.4.0 [\#447](https://github.com/nubisproject/nubis-base/issues/447)
- Consider exposing the purpose as a consul tag by default [\#304](https://github.com/nubisproject/nubis-base/issues/304)
- \[datadog\] move use\_mount to disk.yaml [\#248](https://github.com/nubisproject/nubis-base/issues/248)
- confd templates and toml files are owned by ec2-user [\#193](https://github.com/nubisproject/nubis-base/issues/193)
- awscli tool is not installed by default on ubuntu [\#172](https://github.com/nubisproject/nubis-base/issues/172)
- create a nubis user with sudo and amz ssh-keys in all images [\#62](https://github.com/nubisproject/nubis-base/issues/62)
- Tag v1.5.0-dev release [\#643](https://github.com/nubisproject/nubis-base/issues/643)
- Tag v1.5.0-dev release [\#640](https://github.com/nubisproject/nubis-base/issues/640)

**Merged pull requests:**

- Merge v1.4.2 release into develop. \[skip ci\] [\#646](https://github.com/nubisproject/nubis-base/pull/646) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.5.0-dev release \[skip ci\] [\#641](https://github.com/nubisproject/nubis-base/pull/641) ([gozer](https://github.com/gozer))
- Revert to upstream varnish module [\#636](https://github.com/nubisproject/nubis-base/pull/636) ([gozer](https://github.com/gozer))
- Skip uploading test harness on ubuntu \(disabled\) [\#635](https://github.com/nubisproject/nubis-base/pull/635) ([gozer](https://github.com/gozer))
- Use puppet to manage /etc/confd [\#633](https://github.com/nubisproject/nubis-base/pull/633) ([gozer](https://github.com/gozer))
- Update vcs repo module [\#631](https://github.com/nubisproject/nubis-base/pull/631) ([limed](https://github.com/limed))
- Updating mysql puppet module to 3.10 [\#630](https://github.com/nubisproject/nubis-base/pull/630) ([limed](https://github.com/limed))
- Add nubis/builder/artifacts/AMIs.json to .gitignore [\#628](https://github.com/nubisproject/nubis-base/pull/628) ([gozer](https://github.com/gozer))
- Turn on taint reaping by default [\#626](https://github.com/nubisproject/nubis-base/pull/626) ([gozer](https://github.com/gozer))
- Upgrade to nubis-apache v0.1.8 [\#625](https://github.com/nubisproject/nubis-base/pull/625) ([gozer](https://github.com/gozer))

## [v1.4.1](https://github.com/nubisproject/nubis-base/tree/v1.4.1) (2017-04-11)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.4.0...v1.4.1)

**Closed issues:**

- \[mig\] Now needs to be directly proxy-aware [\#616](https://github.com/nubisproject/nubis-base/issues/616)
- Tag v1.4.1 release [\#619](https://github.com/nubisproject/nubis-base/issues/619)

**Merged pull requests:**

- Merge v1.4.1 release into develop. \[skip ci\] [\#621](https://github.com/nubisproject/nubis-base/pull/621) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.1 release \[skip ci\] [\#620](https://github.com/nubisproject/nubis-base/pull/620) ([tinnightcap](https://github.com/tinnightcap))
- Remove no longer necessary variable [\#618](https://github.com/nubisproject/nubis-base/pull/618) ([tinnightcap](https://github.com/tinnightcap))
- Explicitely configure MiG with our proxy service [\#617](https://github.com/nubisproject/nubis-base/pull/617) ([gozer](https://github.com/gozer))

## [v1.4.0](https://github.com/nubisproject/nubis-base/tree/v1.4.0) (2017-03-23)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.3.0...v1.4.0)

**Closed issues:**

- Amazon-Linux releasever changes [\#612](https://github.com/nubisproject/nubis-base/issues/612)
- Tag v1.3.1 release [\#606](https://github.com/nubisproject/nubis-base/issues/606)
- \[puppet\] Include nubis/nubis\_apache module [\#604](https://github.com/nubisproject/nubis-base/issues/604)
- \[consul\] Upgrade to 0.7.5 [\#602](https://github.com/nubisproject/nubis-base/issues/602)
- \[travis\] Upgrade to nubis-travis v1.3.6 [\#595](https://github.com/nubisproject/nubis-base/issues/595)
- \[travis\] Upgrade to v1.3.5 [\#593](https://github.com/nubisproject/nubis-base/issues/593)
- Upgrade Consul to 0.7.4 [\#589](https://github.com/nubisproject/nubis-base/issues/589)
- Upgrade Consul to v0.7.3 [\#586](https://github.com/nubisproject/nubis-base/issues/586)
- \[node\_exporter\] purpose isn't reported proprely [\#581](https://github.com/nubisproject/nubis-base/issues/581)
- gen-puppet-watchdog cron is noisy [\#571](https://github.com/nubisproject/nubis-base/issues/571)
- \[typo\] nubis-purpose doens't handle the empty case cleanly [\#569](https://github.com/nubisproject/nubis-base/issues/569)
- Upgrade Consul to 0.7.2 [\#564](https://github.com/nubisproject/nubis-base/issues/564)
- upgrade to nubis\_discovery v1.3.0 [\#563](https://github.com/nubisproject/nubis-base/issues/563)
- remove "mesg n" from root's ~/.profile [\#558](https://github.com/nubisproject/nubis-base/issues/558)
- Tag v1.4.0 release [\#611](https://github.com/nubisproject/nubis-base/issues/611)
- Tag v1.4.0 release [\#583](https://github.com/nubisproject/nubis-base/issues/583)
- \[DONOTMERGE\] \[ubuntu\] Upgrade to Xenial [\#440](https://github.com/nubisproject/nubis-base/issues/440)

**Merged pull requests:**

- Merge v1.4.0 release into develop. \[skip ci\] [\#615](https://github.com/nubisproject/nubis-base/pull/615) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.0 release \[skip ci\] [\#614](https://github.com/nubisproject/nubis-base/pull/614) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade to latest puppet-fluentd module [\#613](https://github.com/nubisproject/nubis-base/pull/613) ([gozer](https://github.com/gozer))
- Merge v1.4.0 release into develop. \[skip ci\] [\#610](https://github.com/nubisproject/nubis-base/pull/610) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.0 release \[skip ci\] [\#609](https://github.com/nubisproject/nubis-base/pull/609) ([tinnightcap](https://github.com/tinnightcap))
- Merge v1.4.0 release into develop. \[skip ci\] [\#608](https://github.com/nubisproject/nubis-base/pull/608) ([tinnightcap](https://github.com/tinnightcap))
- Update CHANGELOG for v1.4.0 release \[skip ci\] [\#607](https://github.com/nubisproject/nubis-base/pull/607) ([tinnightcap](https://github.com/tinnightcap))
- Convert over to nubis\_apache [\#605](https://github.com/nubisproject/nubis-base/pull/605) ([gozer](https://github.com/gozer))
- Upgrade to Consul v0.7.5 [\#603](https://github.com/nubisproject/nubis-base/pull/603) ([gozer](https://github.com/gozer))
- Upgrade to nubis-travis v1.3.7 [\#601](https://github.com/nubisproject/nubis-base/pull/601) ([gozer](https://github.com/gozer))
- Exclude master branch from Travis CI builds [\#600](https://github.com/nubisproject/nubis-base/pull/600) ([gozer](https://github.com/gozer))
- Update builder artifacts for v1.4.0 release \[skip ci\] [\#598](https://github.com/nubisproject/nubis-base/pull/598) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.4.0 release \[skip ci\] [\#597](https://github.com/nubisproject/nubis-base/pull/597) ([tinnightcap](https://github.com/tinnightcap))
- Upgrade to nubis-travis v1.3.6 [\#596](https://github.com/nubisproject/nubis-base/pull/596) ([gozer](https://github.com/gozer))
- Upgrade nubis-travis to v1.3.5 [\#594](https://github.com/nubisproject/nubis-base/pull/594) ([gozer](https://github.com/gozer))
- Upgrade datadog puppet module to 1.9.0 [\#592](https://github.com/nubisproject/nubis-base/pull/592) ([gozer](https://github.com/gozer))
- Upgrade Consul to 0.7.4 [\#590](https://github.com/nubisproject/nubis-base/pull/590) ([gozer](https://github.com/gozer))
- whitespace fixup [\#588](https://github.com/nubisproject/nubis-base/pull/588) ([gozer](https://github.com/gozer))
- Fix errors installing gems with tests [\#584](https://github.com/nubisproject/nubis-base/pull/584) ([tinnightcap](https://github.com/tinnightcap))
- Fix typo preventing exporting the purpose to metrics [\#582](https://github.com/nubisproject/nubis-base/pull/582) ([gozer](https://github.com/gozer))
- Remove /root/.profile, it's not needed and causes tons of noise [\#580](https://github.com/nubisproject/nubis-base/pull/580) ([gozer](https://github.com/gozer))
- Update builder artifacts for v1.4.0-dev release [\#577](https://github.com/nubisproject/nubis-base/pull/577) ([tinnightcap](https://github.com/tinnightcap))
- Start v1.4.0-dev cycle [\#576](https://github.com/nubisproject/nubis-base/pull/576) ([gozer](https://github.com/gozer))
- Silence gen-puppet-watchdog cronjob [\#572](https://github.com/nubisproject/nubis-base/pull/572) ([gozer](https://github.com/gozer))
- Use $\* as it should have been [\#570](https://github.com/nubisproject/nubis-base/pull/570) ([gozer](https://github.com/gozer))
- Upgrade to Consul 0.7.2 [\#566](https://github.com/nubisproject/nubis-base/pull/566) ([gozer](https://github.com/gozer))
- Upgrade to nubis\_discovery v1.3.0 [\#565](https://github.com/nubisproject/nubis-base/pull/565) ([gozer](https://github.com/gozer))

## [v1.3.0](https://github.com/nubisproject/nubis-base/tree/v1.3.0) (2017-01-06)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.2.2...v1.3.0)

**Implemented enhancements:**

- \[user-management\] Script cleanups [\#531](https://github.com/nubisproject/nubis-base/issues/531)
- Include /usr/local/bin and /usr/local/sbin in path [\#464](https://github.com/nubisproject/nubis-base/issues/464)
- \[user-management\] Periodic puppet update for nubis\_user module [\#460](https://github.com/nubisproject/nubis-base/issues/460)
- nubis-lib log function shouldn't output to stderr [\#390](https://github.com/nubisproject/nubis-base/issues/390)
- \[user-management\] Remove datetime from nubis-users.tmpl file [\#470](https://github.com/nubisproject/nubis-base/issues/470)
- Include nubis-users puppet module [\#430](https://github.com/nubisproject/nubis-base/issues/430)
- Include sudo puppet module in base [\#426](https://github.com/nubisproject/nubis-base/issues/426)

**Fixed bugs:**

- \[user-management\] Fix wrong path for nologin for ubuntu [\#469](https://github.com/nubisproject/nubis-base/issues/469)

**Closed issues:**

- \[fluentd\] TreasureData updated their GPG keys [\#574](https://github.com/nubisproject/nubis-base/issues/574)
- Cleanup metrics \(from cronjobs\) during image cleanup [\#567](https://github.com/nubisproject/nubis-base/issues/567)
- Make consul peer discovery more robust [\#555](https://github.com/nubisproject/nubis-base/issues/555)
- Don't use proxy for .service.consul URLs [\#547](https://github.com/nubisproject/nubis-base/issues/547)
- Try and avoid starting/restarting Consul at build time [\#544](https://github.com/nubisproject/nubis-base/issues/544)
- Add upstart puppet module [\#543](https://github.com/nubisproject/nubis-base/issues/543)
- Upgrade to Consul 0.7.1 [\#541](https://github.com/nubisproject/nubis-base/issues/541)
- \[nubis-gen-puppet\] Noisy cron [\#538](https://github.com/nubisproject/nubis-base/issues/538)
- Rename 01-gen-puppet.sh to just 01-gen-puppet [\#536](https://github.com/nubisproject/nubis-base/issues/536)
- Remove migrate check in nubis-lib [\#533](https://github.com/nubisproject/nubis-base/issues/533)
- \[fluentd\] Upgrade ec2-metadata plugin [\#528](https://github.com/nubisproject/nubis-base/issues/528)
- Include atomic-rsync in the base images, it's generally useful [\#521](https://github.com/nubisproject/nubis-base/issues/521)
- disable Consul node-exporter service check when node-exporter is disabled [\#518](https://github.com/nubisproject/nubis-base/issues/518)
- \[user-managment\] Bake in our current 3 groups [\#516](https://github.com/nubisproject/nubis-base/issues/516)
- Bump puppet module version [\#514](https://github.com/nubisproject/nubis-base/issues/514)
- NO\_PROXY and subnets [\#513](https://github.com/nubisproject/nubis-base/issues/513)
- Remove hiera config and user management confd template to the puppet module [\#512](https://github.com/nubisproject/nubis-base/issues/512)
- \[node-exporter\] Export as a Consul service [\#510](https://github.com/nubisproject/nubis-base/issues/510)
- \[fluent\] Local listener on a unix domain socket [\#508](https://github.com/nubisproject/nubis-base/issues/508)
- \[cron\] Silence nubis-taint-reap runs [\#506](https://github.com/nubisproject/nubis-base/issues/506)
- \[datadog\] When disabled, also disable the Consul health check [\#504](https://github.com/nubisproject/nubis-base/issues/504)
- \[fluentd\] Include as much information as possible in forwarded events [\#502](https://github.com/nubisproject/nubis-base/issues/502)
- \[fluentd\] Make sure the agent is aware of our PROXY\_\* environment variables [\#500](https://github.com/nubisproject/nubis-base/issues/500)
- No point in running datadog when its disabled [\#496](https://github.com/nubisproject/nubis-base/issues/496)
- \[tool\] Abstract away region and availability-zone discovery [\#495](https://github.com/nubisproject/nubis-base/issues/495)
- \[consul\] Disable exec [\#493](https://github.com/nubisproject/nubis-base/issues/493)
- \[puppet\] module upgrades [\#489](https://github.com/nubisproject/nubis-base/issues/489)
- \[puppet\] switch back to mmz-sft/puppet-fluentd now that our patches landed [\#487](https://github.com/nubisproject/nubis-base/issues/487)
- Upgrade puppet to nubis\_storage v1.2.2 when released [\#484](https://github.com/nubisproject/nubis-base/issues/484)
- Upgrade to newer nubis-puppet-discovery [\#481](https://github.com/nubisproject/nubis-base/issues/481)
- Upgrade to Consul 0.7.0 [\#477](https://github.com/nubisproject/nubis-base/issues/477)
- \[user-management\] Bump nubis-puppet-nubis\_users version [\#473](https://github.com/nubisproject/nubis-base/issues/473)
- \[taint\] Don't warn about taintedness when Consul isn't reacheable [\#463](https://github.com/nubisproject/nubis-base/issues/463)
- \[node\_exporter\] Create a convenient wrapper for cron jobs [\#459](https://github.com/nubisproject/nubis-base/issues/459)
- node\_collector is incorrectly installed [\#457](https://github.com/nubisproject/nubis-base/issues/457)
- Cleanup the last login information post-build [\#451](https://github.com/nubisproject/nubis-base/issues/451)
- \[nubis-metadata\] Can fail if run as non-root too early [\#449](https://github.com/nubisproject/nubis-base/issues/449)
- \[taint\] Mark tainted instances [\#442](https://github.com/nubisproject/nubis-base/issues/442)
- \[ubuntu\[ Disable Release Update checking [\#437](https://github.com/nubisproject/nubis-base/issues/437)
- Replace credstash with unicreds [\#436](https://github.com/nubisproject/nubis-base/issues/436)
- /var/run isn't executable on ubuntu [\#434](https://github.com/nubisproject/nubis-base/issues/434)
- \[node\_exporter\] Expose metadata via node labels [\#431](https://github.com/nubisproject/nubis-base/issues/431)
- \[node\_exporter\] /var/run is not executable on Ubuntu [\#428](https://github.com/nubisproject/nubis-base/issues/428)
- Tag v1.2.3 release [\#423](https://github.com/nubisproject/nubis-base/issues/423)
- \[consul\] Need a mechanism to hunt for Consul in the case it catastrophically self-destructed [\#422](https://github.com/nubisproject/nubis-base/issues/422)
- \[fluentd\] Ubuntu renamed user/group parameters [\#412](https://github.com/nubisproject/nubis-base/issues/412)
- \[nubis-metadata\] Handle cases where user-data is invalid shell content [\#397](https://github.com/nubisproject/nubis-base/issues/397)
- nubis-secret: Need a way to store secrets too [\#325](https://github.com/nubisproject/nubis-base/issues/325)
- Include consul-cli [\#298](https://github.com/nubisproject/nubis-base/issues/298)
- \[envconsul\] Upgrade to v0.6.1 [\#261](https://github.com/nubisproject/nubis-base/issues/261)
- Use serverspec to perform AMI conformance testing [\#133](https://github.com/nubisproject/nubis-base/issues/133)
- provide a helper shell script to wait for consul startup [\#67](https://github.com/nubisproject/nubis-base/issues/67)
- Tag v1.3.0 release [\#560](https://github.com/nubisproject/nubis-base/issues/560)
- \[fluentd\] Silence td-agent watchdog [\#404](https://github.com/nubisproject/nubis-base/issues/404)
- Upgrade to td-agent 2.x \(fluentd 0.14.x\) [\#399](https://github.com/nubisproject/nubis-base/issues/399)

**Merged pull requests:**

- Cleanup /var/lib/node\_exporter/metrics during image housekeeping [\#568](https://github.com/nubisproject/nubis-base/pull/568) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v1.3.0 release [\#562](https://github.com/nubisproject/nubis-base/pull/562) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.3.0 release [\#561](https://github.com/nubisproject/nubis-base/pull/561) ([tinnightcap](https://github.com/tinnightcap))
- Fix small \*bad\* tyop [\#557](https://github.com/nubisproject/nubis-base/pull/557) ([gozer](https://github.com/gozer))
- Don't assume we can always sucessfully find peers once Consul is up, retry [\#556](https://github.com/nubisproject/nubis-base/pull/556) ([gozer](https://github.com/gozer))
- Don't warn about taintedness when running under Packer [\#554](https://github.com/nubisproject/nubis-base/pull/554) ([gozer](https://github.com/gozer))
- ensure confd watchdog returns true [\#553](https://github.com/nubisproject/nubis-base/pull/553) ([gozer](https://github.com/gozer))
- add a nubis\_cron\_duration metric as well, synthetic, but useful [\#552](https://github.com/nubisproject/nubis-base/pull/552) ([gozer](https://github.com/gozer))
- update to nubis-travis v0.1.3 [\#551](https://github.com/nubisproject/nubis-base/pull/551) ([gozer](https://github.com/gozer))
- small fix for CentOS [\#550](https://github.com/nubisproject/nubis-base/pull/550) ([gozer](https://github.com/gozer))
- Create nubis-cron, prometheus wrapper for cronjobs [\#549](https://github.com/nubisproject/nubis-base/pull/549) ([gozer](https://github.com/gozer))
- no proxy for .service.consul URLs [\#548](https://github.com/nubisproject/nubis-base/pull/548) ([gozer](https://github.com/gozer))
- Don't restart Consul on config changes [\#546](https://github.com/nubisproject/nubis-base/pull/546) ([gozer](https://github.com/gozer))
- Include puppet module spantree/upstart@0.0.3 [\#545](https://github.com/nubisproject/nubis-base/pull/545) ([gozer](https://github.com/gozer))
- Upgrade to Consul 0.7.1 [\#542](https://github.com/nubisproject/nubis-base/pull/542) ([gozer](https://github.com/gozer))
- Correctly populate the NO\_PROXY variable with IPs in our subnet. [\#540](https://github.com/nubisproject/nubis-base/pull/540) ([gozer](https://github.com/gozer))
- Silencing puppet run [\#539](https://github.com/nubisproject/nubis-base/pull/539) ([limed](https://github.com/limed))
- This breaks ubuntu so removing .sh [\#537](https://github.com/nubisproject/nubis-base/pull/537) ([limed](https://github.com/limed))
- Include consul-cli in base [\#535](https://github.com/nubisproject/nubis-base/pull/535) ([limed](https://github.com/limed))
- Not really used anymore? Is this still really needed? [\#534](https://github.com/nubisproject/nubis-base/pull/534) ([limed](https://github.com/limed))
- We are not using this library so don't bother sourcing it [\#532](https://github.com/nubisproject/nubis-base/pull/532) ([limed](https://github.com/limed))
- exit status fix [\#530](https://github.com/nubisproject/nubis-base/pull/530) ([limed](https://github.com/limed))
- Small upgrade for a refresh bugfix [\#529](https://github.com/nubisproject/nubis-base/pull/529) ([gozer](https://github.com/gozer))
- gen-puppet cron [\#527](https://github.com/nubisproject/nubis-base/pull/527) ([limed](https://github.com/limed))
- Generate puppet [\#526](https://github.com/nubisproject/nubis-base/pull/526) ([limed](https://github.com/limed))
- Add set ability to nubis-secret [\#525](https://github.com/nubisproject/nubis-base/pull/525) ([gozer](https://github.com/gozer))
- Include atomic-rsync in base images [\#524](https://github.com/nubisproject/nubis-base/pull/524) ([gozer](https://github.com/gozer))
- Replace credstash with unicreds [\#522](https://github.com/nubisproject/nubis-base/pull/522) ([gozer](https://github.com/gozer))
- Silence the tuncating step, leftover debugging [\#520](https://github.com/nubisproject/nubis-base/pull/520) ([gozer](https://github.com/gozer))
- Disable Consul node-exporter service check when disabled [\#519](https://github.com/nubisproject/nubis-base/pull/519) ([gozer](https://github.com/gozer))
- Bake in the current group names [\#517](https://github.com/nubisproject/nubis-base/pull/517) ([gozer](https://github.com/gozer))
- nubis\_users puppet removal [\#515](https://github.com/nubisproject/nubis-base/pull/515) ([limed](https://github.com/limed))
- Expose node-exporter as a Consul service [\#511](https://github.com/nubisproject/nubis-base/pull/511) ([gozer](https://github.com/gozer))
- \[fluentd\] Enable unix socket listener [\#509](https://github.com/nubisproject/nubis-base/pull/509) ([gozer](https://github.com/gozer))
- nubis-tainted is noisy by default, ignore its output when we are running out of cron [\#507](https://github.com/nubisproject/nubis-base/pull/507) ([gozer](https://github.com/gozer))
- When datadog is disabled, also disable the Consul service definition [\#505](https://github.com/nubisproject/nubis-base/pull/505) ([gozer](https://github.com/gozer))
- Include more information in each forwarded log event [\#503](https://github.com/nubisproject/nubis-base/pull/503) ([gozer](https://github.com/gozer))
- Source our proxy settings file before starting fluentd [\#501](https://github.com/nubisproject/nubis-base/pull/501) ([gozer](https://github.com/gozer))
- Add 2 small tools for grabbing region and availability-zone [\#499](https://github.com/nubisproject/nubis-base/pull/499) ([gozer](https://github.com/gozer))
- Don't run the datadog agent when its disabled [\#498](https://github.com/nubisproject/nubis-base/pull/498) ([gozer](https://github.com/gozer))
- Disable Consul's remote-exec feature globally [\#494](https://github.com/nubisproject/nubis-base/pull/494) ([gozer](https://github.com/gozer))
- Upgraded most puppet modules that were outdated [\#492](https://github.com/nubisproject/nubis-base/pull/492) ([gozer](https://github.com/gozer))
- Update to nubis-travis v0.1.0 [\#491](https://github.com/nubisproject/nubis-base/pull/491) ([gozer](https://github.com/gozer))
- Revert "Switch back to upstream fluentd puppet module from mrz-sft" [\#490](https://github.com/nubisproject/nubis-base/pull/490) ([gozer](https://github.com/gozer))
- Switch back to upstream fluentd puppet module from mrz-sft [\#488](https://github.com/nubisproject/nubis-base/pull/488) ([gozer](https://github.com/gozer))
- Enable Travis CI basic checks [\#486](https://github.com/nubisproject/nubis-base/pull/486) ([gozer](https://github.com/gozer))
- upgrade to nubis\_storage v1.2.2 [\#485](https://github.com/nubisproject/nubis-base/pull/485) ([gozer](https://github.com/gozer))
- Upgrade puppet-nubis\_discovery to v1.2.2 [\#483](https://github.com/nubisproject/nubis-base/pull/483) ([gozer](https://github.com/gozer))
- Upgrade to nubis\_discovery v1.2.2 [\#482](https://github.com/nubisproject/nubis-base/pull/482) ([gozer](https://github.com/gozer))
- Just like confd does, do some runtime pattern substitution for Consul service checks [\#479](https://github.com/nubisproject/nubis-base/pull/479) ([gozer](https://github.com/gozer))
- Upgrade Consul to 0.7.0 [\#478](https://github.com/nubisproject/nubis-base/pull/478) ([gozer](https://github.com/gozer))
- Upgrade envconsul to 0.6.1 [\#476](https://github.com/nubisproject/nubis-base/pull/476) ([gozer](https://github.com/gozer))
- Add 2 more service tests  - sshd enabled  - node\_exporter disabled \(enabled by confd\) [\#475](https://github.com/nubisproject/nubis-base/pull/475) ([gozer](https://github.com/gozer))
- Bump puppet module version [\#474](https://github.com/nubisproject/nubis-base/pull/474) ([limed](https://github.com/limed))
- nubis-users template cleanup [\#472](https://github.com/nubisproject/nubis-base/pull/472) ([limed](https://github.com/limed))
- Fixing nologin path [\#471](https://github.com/nubisproject/nubis-base/pull/471) ([limed](https://github.com/limed))
- Add initial working skeleton for running serverspec tests during AMI build [\#468](https://github.com/nubisproject/nubis-base/pull/468) ([gozer](https://github.com/gozer))
- Ubuntu consul user whitelist [\#462](https://github.com/nubisproject/nubis-base/pull/462) ([limed](https://github.com/limed))
- Strip top-level directory from the node\_exporter tarball [\#458](https://github.com/nubisproject/nubis-base/pull/458) ([gozer](https://github.com/gozer))
- fix bash tyop [\#456](https://github.com/nubisproject/nubis-base/pull/456) ([gozer](https://github.com/gozer))
- User management  [\#455](https://github.com/nubisproject/nubis-base/pull/455) ([limed](https://github.com/limed))
- Cleanup the housekeeper a little [\#454](https://github.com/nubisproject/nubis-base/pull/454) ([gozer](https://github.com/gozer))
- Fix typo \(missing fi\) [\#452](https://github.com/nubisproject/nubis-base/pull/452) ([gozer](https://github.com/gozer))
- \[metadata\] Make sure non-root users can use nubis-metadata correctly [\#450](https://github.com/nubisproject/nubis-base/pull/450) ([gozer](https://github.com/gozer))
- \[taint\] Handle case where Consul isn't running \(during packer runs\) [\#448](https://github.com/nubisproject/nubis-base/pull/448) ([gozer](https://github.com/gozer))
- Final implementation of tainted resources, now enabled [\#446](https://github.com/nubisproject/nubis-base/pull/446) ([gozer](https://github.com/gozer))
- Be slightly more explicit in our PATH [\#445](https://github.com/nubisproject/nubis-base/pull/445) ([gozer](https://github.com/gozer))
- Silence errors if content is not valid shell [\#444](https://github.com/nubisproject/nubis-base/pull/444) ([gozer](https://github.com/gozer))
- \[tainted\] Implement tracking of tainted instances and self-termination [\#443](https://github.com/nubisproject/nubis-base/pull/443) ([gozer](https://github.com/gozer))
- Fix missing containing directory missing [\#439](https://github.com/nubisproject/nubis-base/pull/439) ([gozer](https://github.com/gozer))
- Remove ubuntu-release-upgrader-core on Ubuntu [\#438](https://github.com/nubisproject/nubis-base/pull/438) ([gozer](https://github.com/gozer))
- Enable textfile collector and create static metadata metrics [\#433](https://github.com/nubisproject/nubis-base/pull/433) ([gozer](https://github.com/gozer))
- Use TD\_AGENT\_USER as recommended [\#432](https://github.com/nubisproject/nubis-base/pull/432) ([gozer](https://github.com/gozer))
- Move node\_exporter restart script somewhere always executable [\#429](https://github.com/nubisproject/nubis-base/pull/429) ([gozer](https://github.com/gozer))
- Include saz/sudo puppet module [\#427](https://github.com/nubisproject/nubis-base/pull/427) ([limed](https://github.com/limed))
- Update builder artifacts for v1.3.0-dev release [\#425](https://github.com/nubisproject/nubis-base/pull/425) ([gozer](https://github.com/gozer))
- Update builder artifacts for v1.2.3 release [\#424](https://github.com/nubisproject/nubis-base/pull/424) ([gozer](https://github.com/gozer))
- Previous fix was broken, this one is finally correct [\#421](https://github.com/nubisproject/nubis-base/pull/421) ([gozer](https://github.com/gozer))
- Update puppet-fluentd for new package signing keys [\#575](https://github.com/nubisproject/nubis-base/pull/575) ([gozer](https://github.com/gozer))

## [v1.2.2](https://github.com/nubisproject/nubis-base/tree/v1.2.2) (2016-08-02)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.2.1...v1.2.2)

**Closed issues:**

- \[ntp\] Enable NTP explicitely [\#416](https://github.com/nubisproject/nubis-base/issues/416)
- \[consul\] Enable leave-on-terminate [\#414](https://github.com/nubisproject/nubis-base/issues/414)
- Tag v1.2.2 release [\#418](https://github.com/nubisproject/nubis-base/issues/418)

**Merged pull requests:**

- Update CHANGELOG for v1.2.2 release [\#420](https://github.com/nubisproject/nubis-base/pull/420) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.2.2 release [\#419](https://github.com/nubisproject/nubis-base/pull/419) ([tinnightcap](https://github.com/tinnightcap))
- Install and enable NTPd by default [\#417](https://github.com/nubisproject/nubis-base/pull/417) ([gozer](https://github.com/gozer))
- Set leave\_on\_terminate = true [\#415](https://github.com/nubisproject/nubis-base/pull/415) ([gozer](https://github.com/gozer))
- Change user variables from USER|GROUP to TD\_AGENT\_USER|TD\_AGENT\_USER [\#413](https://github.com/nubisproject/nubis-base/pull/413) ([gozer](https://github.com/gozer))

## [v1.2.1](https://github.com/nubisproject/nubis-base/tree/v1.2.1) (2016-07-30)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.2.0...v1.2.1)

**Closed issues:**

- \[datadog\] needs to know about our proxies [\#407](https://github.com/nubisproject/nubis-base/issues/407)
- Tag v1.2.1 release [\#409](https://github.com/nubisproject/nubis-base/issues/409)

**Merged pull requests:**

- Update CHANGELOG for v1.2.1 release [\#411](https://github.com/nubisproject/nubis-base/pull/411) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.2.1 release [\#410](https://github.com/nubisproject/nubis-base/pull/410) ([tinnightcap](https://github.com/tinnightcap))
- Bake proxies in our DataDog configs [\#408](https://github.com/nubisproject/nubis-base/pull/408) ([gozer](https://github.com/gozer))
- MIG agent update to 20160715\_0.a06734a [\#406](https://github.com/nubisproject/nubis-base/pull/406) ([ameihm0912](https://github.com/ameihm0912))
- Fix the Ubnutu fluentd repo issue, getting us finally on td-agent 2.x on all platforms [\#405](https://github.com/nubisproject/nubis-base/pull/405) ([gozer](https://github.com/gozer))
- Update builder artifacts for v1.3.0-dev release [\#403](https://github.com/nubisproject/nubis-base/pull/403) ([tinnightcap](https://github.com/tinnightcap))

## [v1.2.0](https://github.com/nubisproject/nubis-base/tree/v1.2.0) (2016-07-07)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.1.0...v1.2.0)

**Implemented enhancements:**

- nubis-lib should include pid of process when we log [\#391](https://github.com/nubisproject/nubis-base/issues/391)

**Closed issues:**

- Tag v1.1.0 release [\#147](https://github.com/nubisproject/nubis-base/issues/147)
- Tag v1.2.0 release [\#401](https://github.com/nubisproject/nubis-base/issues/401)
- \[consul\] Don't use any proxy when talking to consul during bootup [\#388](https://github.com/nubisproject/nubis-base/issues/388)

**Merged pull requests:**

- Update CHANGELOG for v1.2.0 release [\#402](https://github.com/nubisproject/nubis-base/pull/402) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.2.0 release [\#400](https://github.com/nubisproject/nubis-base/pull/400) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.2.0 release [\#398](https://github.com/nubisproject/nubis-base/pull/398) ([tinnightcap](https://github.com/tinnightcap))
- Work around problem with fluent-plugin-ec2-metadata on Ubuntu. [\#396](https://github.com/nubisproject/nubis-base/pull/396) ([gozer](https://github.com/gozer))
- Small CentOS fixups [\#395](https://github.com/nubisproject/nubis-base/pull/395) ([gozer](https://github.com/gozer))
- Add CentOS base images [\#394](https://github.com/nubisproject/nubis-base/pull/394) ([gozer](https://github.com/gozer))
- Output pid in log messages [\#393](https://github.com/nubisproject/nubis-base/pull/393) ([limed](https://github.com/limed))
- Output log message to stdout [\#392](https://github.com/nubisproject/nubis-base/pull/392) ([limed](https://github.com/limed))
- start the v1.2.0-dev cycle [\#389](https://github.com/nubisproject/nubis-base/pull/389) ([gozer](https://github.com/gozer))

## [v1.1.0](https://github.com/nubisproject/nubis-base/tree/v1.1.0) (2016-04-18)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.0.1...v1.1.0)

**Implemented enhancements:**

- Move datadog.json to puppet [\#283](https://github.com/nubisproject/nubis-base/issues/283)
- \[puppet\] Use envconsul puppet module [\#280](https://github.com/nubisproject/nubis-base/issues/280)
- \[puppet\] Switch consul\_do class in consul.pp to use puppet module [\#277](https://github.com/nubisproject/nubis-base/issues/277)
- Include nubis-consul's nubis-secret credstash wrapper [\#271](https://github.com/nubisproject/nubis-base/issues/271)
- Cleanup nubis-lib.sh [\#227](https://github.com/nubisproject/nubis-base/issues/227)
- Use mig puppet module [\#214](https://github.com/nubisproject/nubis-base/issues/214)
- Don't use CONSUL\_SECRET as a proxy to detect if we are a Consul Server [\#145](https://github.com/nubisproject/nubis-base/issues/145)

**Fixed bugs:**

- \[consul\] Fix init script on Amazon Linux, it doesn't deamonize at all. [\#247](https://github.com/nubisproject/nubis-base/issues/247)

**Closed issues:**

- Pin consul\_do at an actual release tag [\#381](https://github.com/nubisproject/nubis-base/issues/381)
- During Consul bootstrap, make sure curl is capably of retrying [\#379](https://github.com/nubisproject/nubis-base/issues/379)
- Handle the case where we need a proxy early, and Consul isn't started yet [\#377](https://github.com/nubisproject/nubis-base/issues/377)
- Only start confd once everything is properly setup [\#375](https://github.com/nubisproject/nubis-base/issues/375)
- Wait on startup for Consul cluster to have signaled it's ready with /consul-ready [\#373](https://github.com/nubisproject/nubis-base/issues/373)
- Disable datadog on boot. [\#371](https://github.com/nubisproject/nubis-base/issues/371)
- Upgrade Credstash to 1.10.0 [\#369](https://github.com/nubisproject/nubis-base/issues/369)
- Upgrade Consul to 0.6.4 [\#367](https://github.com/nubisproject/nubis-base/issues/367)
- Wait for consul to be available on node startup [\#364](https://github.com/nubisproject/nubis-base/issues/364)
- Disable rpcbind in base [\#361](https://github.com/nubisproject/nubis-base/issues/361)
- Move package list recording into housekeeper [\#358](https://github.com/nubisproject/nubis-base/issues/358)
- Jump over to the v1.0.2-dev cycle [\#356](https://github.com/nubisproject/nubis-base/issues/356)
- \[housecleaner\] We leave behind some file after builds [\#354](https://github.com/nubisproject/nubis-base/issues/354)
- Upgrade puppet modules: [\#353](https://github.com/nubisproject/nubis-base/issues/353)
- Start node\_exporter only if a global flags is present [\#350](https://github.com/nubisproject/nubis-base/issues/350)
- POC: enable node\_exporter on instances [\#348](https://github.com/nubisproject/nubis-base/issues/348)
- puppet-envconsul doesn't look for tar in all the possible places via PATH [\#342](https://github.com/nubisproject/nubis-base/issues/342)
- Update outdated puppet modules: [\#338](https://github.com/nubisproject/nubis-base/issues/338)
- Upgrade to Consul 0.6.3 [\#335](https://github.com/nubisproject/nubis-base/issues/335)
- curl with OpenSSL \(on Ubuntu\) doesn't like our Consul SSL certificate for validation. [\#333](https://github.com/nubisproject/nubis-base/issues/333)
- Use credstash provided Consul SSL cert to verify https:// during bootstrap [\#330](https://github.com/nubisproject/nubis-base/issues/330)
- Discover Consul ACL token via credstash [\#328](https://github.com/nubisproject/nubis-base/issues/328)
- nubis-secret [\#324](https://github.com/nubisproject/nubis-base/issues/324)
- Fix some implicit dependendencies in our ubnutu bootstrapping. [\#322](https://github.com/nubisproject/nubis-base/issues/322)
- Ensure packer-bootstrap runs as early as possible. [\#320](https://github.com/nubisproject/nubis-base/issues/320)
- Avoid starting/restaring Consul during builds [\#318](https://github.com/nubisproject/nubis-base/issues/318)
- Upgrade Ubuntu puppet to 3.8.6-1puppetlabs1 [\#316](https://github.com/nubisproject/nubis-base/issues/316)
- \[puppet\] Bump nubis-puppet-mig version [\#314](https://github.com/nubisproject/nubis-base/issues/314)
- nubis-secret: Needs an elegant way to also retrieve \*global\* secrets [\#313](https://github.com/nubisproject/nubis-base/issues/313)
- nubis-secret: Simplify, possibly, and auto fill the $service/$environment part of the secret's key [\#312](https://github.com/nubisproject/nubis-base/issues/312)
- nubis-secret: extend to support storing a secret [\#311](https://github.com/nubisproject/nubis-base/issues/311)
- Improve nubis-purpose a bit for more sensible behavior [\#305](https://github.com/nubisproject/nubis-base/issues/305)
- Reflect the Purpose in the ec2 instance name, to differentiate them [\#303](https://github.com/nubisproject/nubis-base/issues/303)
- Expose the NUBIS\_PURPOSE tag via a command-line utility [\#301](https://github.com/nubisproject/nubis-base/issues/301)
- use https:// when bootstrapping against Consul [\#300](https://github.com/nubisproject/nubis-base/issues/300)
- Upgrade to credstash 1.9.1 [\#296](https://github.com/nubisproject/nubis-base/issues/296)
- Upgrade to confd v0.11.0 [\#294](https://github.com/nubisproject/nubis-base/issues/294)
- Restart confd after Consul has started [\#292](https://github.com/nubisproject/nubis-base/issues/292)
- Install consul-template with https://github.com/gdhbashton/puppet-consul\_template [\#291](https://github.com/nubisproject/nubis-base/issues/291)
- Upgrade to Consul v0.6.2 [\#289](https://github.com/nubisproject/nubis-base/issues/289)
- confd watchdog broken on ubuntu [\#285](https://github.com/nubisproject/nubis-base/issues/285)
- Move nubis-builder houskeeping script into nubis-base. [\#282](https://github.com/nubisproject/nubis-base/issues/282)
- Use an explicit SKIP file for consul auto-joining [\#273](https://github.com/nubisproject/nubis-base/issues/273)
- \[puppet\] Upgrade outdated modules [\#272](https://github.com/nubisproject/nubis-base/issues/272)
- consul retry\_join should only be set on clients, not servers. [\#269](https://github.com/nubisproject/nubis-base/issues/269)
- \[dnsmasq\] breaks dns resolution at build-time [\#263](https://github.com/nubisproject/nubis-base/issues/263)
- Remove consul-server specific parts of nubis.d/consul [\#262](https://github.com/nubisproject/nubis-base/issues/262)
- Move consul startup to /etc/nubis.d/00-consul [\#258](https://github.com/nubisproject/nubis-base/issues/258)
- \[credstash\] Upgrade to v1.8 [\#255](https://github.com/nubisproject/nubis-base/issues/255)
- \[consul\] Upgrade to Consul v0.6.0 [\#254](https://github.com/nubisproject/nubis-base/issues/254)
- \[user-data\] Cache user-data locally and provide some convenient way to query it [\#251](https://github.com/nubisproject/nubis-base/issues/251)
- Cleanup unused puppet modules [\#209](https://github.com/nubisproject/nubis-base/issues/209)
- /etc/nubis.d scripts should have /usr/local/bin/ in their PATHs [\#176](https://github.com/nubisproject/nubis-base/issues/176)
- Create a nubis-metadata tool to hide away the AWS EC2 metadata [\#115](https://github.com/nubisproject/nubis-base/issues/115)
- Tag v1.1.0 release [\#253](https://github.com/nubisproject/nubis-base/issues/253)

**Merged pull requests:**

- Update CHANGELOG for v1.1.0 release [\#387](https://github.com/nubisproject/nubis-base/pull/387) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.1.0 release [\#386](https://github.com/nubisproject/nubis-base/pull/386) ([tinnightcap](https://github.com/tinnightcap))
- Update builder artifacts for v1.1.0 release [\#385](https://github.com/nubisproject/nubis-base/pull/385) ([tinnightcap](https://github.com/tinnightcap))
- Update versions for  release [\#384](https://github.com/nubisproject/nubis-base/pull/384) ([tinnightcap](https://github.com/tinnightcap))
- Update StacksVersion for v1.1.0 release [\#383](https://github.com/nubisproject/nubis-base/pull/383) ([tinnightcap](https://github.com/tinnightcap))
- Pin at 1.0.1 of consul\_do [\#382](https://github.com/nubisproject/nubis-base/pull/382) ([gozer](https://github.com/gozer))
- Have curl retry during Consul bootstrap [\#380](https://github.com/nubisproject/nubis-base/pull/380) ([gozer](https://github.com/gozer))
- Ensure we always have a working proxy setup during boot [\#378](https://github.com/nubisproject/nubis-base/pull/378) ([gozer](https://github.com/gozer))
- Don't restart confd ourselves, confd takes care of itself later. [\#376](https://github.com/nubisproject/nubis-base/pull/376) ([gozer](https://github.com/gozer))
- Wait until Consul has reported it's done bootstrapping before moving on [\#374](https://github.com/nubisproject/nubis-base/pull/374) ([gozer](https://github.com/gozer))
- Disable datadog on bootup, rely on confd to start it later, configured [\#372](https://github.com/nubisproject/nubis-base/pull/372) ([gozer](https://github.com/gozer))
- Upgrade Credstash to v1.10.0 [\#370](https://github.com/nubisproject/nubis-base/pull/370) ([gozer](https://github.com/gozer))
- Upgrade consul to 0.6.4 [\#368](https://github.com/nubisproject/nubis-base/pull/368) ([gozer](https://github.com/gozer))
- Move Consul peer lookup and looping earlier in consul bootstraping [\#366](https://github.com/nubisproject/nubis-base/pull/366) ([gozer](https://github.com/gozer))
- Loop forever on startup for as long as we can't discover some Consul peers. [\#365](https://github.com/nubisproject/nubis-base/pull/365) ([gozer](https://github.com/gozer))
- Disable NFS related services on Amazon Linux \(rpcbind & nfslock\) [\#363](https://github.com/nubisproject/nubis-base/pull/363) ([gozer](https://github.com/gozer))
- Bump puppetlabs/firewall =\> 1.8.0, maestrodev/wget =\> 1.7.3 [\#362](https://github.com/nubisproject/nubis-base/pull/362) ([gozer](https://github.com/gozer))
- add artifacts for v1.0.1-sec1 [\#360](https://github.com/nubisproject/nubis-base/pull/360) ([gozer](https://github.com/gozer))
- Move package puppet resource generation into houskeeper script, so it gets run at the end of every build, not just base. [\#359](https://github.com/nubisproject/nubis-base/pull/359) ([gozer](https://github.com/gozer))
- start v1.0.2-dev cycle [\#357](https://github.com/nubisproject/nubis-base/pull/357) ([gozer](https://github.com/gozer))
- Cleanup /var/spool/mail/\* and /var/cache/nubis/\* [\#355](https://github.com/nubisproject/nubis-base/pull/355) ([gozer](https://github.com/gozer))
- Control node\_exporter via consul:/environments/\<ENV\>/global/node\_exporter/enabled [\#352](https://github.com/nubisproject/nubis-base/pull/352) ([gozer](https://github.com/gozer))
- init scripts are supposed to be executable [\#351](https://github.com/nubisproject/nubis-base/pull/351) ([gozer](https://github.com/gozer))
- Enable node\_exporter service on boot [\#349](https://github.com/nubisproject/nubis-base/pull/349) ([gozer](https://github.com/gozer))
- Switch over to our consul-do puppet package \(unreleased\) [\#347](https://github.com/nubisproject/nubis-base/pull/347) ([gozer](https://github.com/gozer))
- Create nubis-metadata to access instance user-data [\#344](https://github.com/nubisproject/nubis-base/pull/344) ([gozer](https://github.com/gozer))
- Fix envconsul's tar related issues [\#343](https://github.com/nubisproject/nubis-base/pull/343) ([gozer](https://github.com/gozer))
- Ensure /usr/local/bin is in the PATH when we invoke nubis.d scripts [\#341](https://github.com/nubisproject/nubis-base/pull/341) ([gozer](https://github.com/gozer))
- Switch over to using envconsul puppet module [\#340](https://github.com/nubisproject/nubis-base/pull/340) ([gozer](https://github.com/gozer))
- Update outdated puppet modules: [\#339](https://github.com/nubisproject/nubis-base/pull/339) ([gozer](https://github.com/gozer))
- Forgot to include module in Puppetfile [\#337](https://github.com/nubisproject/nubis-base/pull/337) ([gozer](https://github.com/gozer))
- Upgrade Consul to v0.6.3 [\#336](https://github.com/nubisproject/nubis-base/pull/336) ([gozer](https://github.com/gozer))
- This startup script needs bash, not sh, as I've introduced some subshell foo in there, and /bin/sh doesn't like it. Dhu. [\#334](https://github.com/nubisproject/nubis-base/pull/334) ([gozer](https://github.com/gozer))
- Fix small logical error, by default, we specify CONSUL\_ACL to be 'anonymous' [\#332](https://github.com/nubisproject/nubis-base/pull/332) ([gozer](https://github.com/gozer))
- Look for a Consul CA cert published in the credstash platform location, and if we find it, use it to verify our SSL connections to consul during server bootstrap [\#331](https://github.com/nubisproject/nubis-base/pull/331) ([gozer](https://github.com/gozer))
- If user-data didn't contain an explcit Consul ACL token, ask credstash for one. [\#329](https://github.com/nubisproject/nubis-base/pull/329) ([gozer](https://github.com/gozer))
- nubis-secret: prefix secrets with $NUBIS\_PROJECT/$NUBIS\_ENVIRONMENT by default [\#327](https://github.com/nubisproject/nubis-base/pull/327) ([gozer](https://github.com/gozer))
- nubis-secret: add --global option [\#326](https://github.com/nubisproject/nubis-base/pull/326) ([gozer](https://github.com/gozer))
- Explicitely install our bootstrap dependencies, we were missing some that just happened to be present  - wget  - rsync  - apt-add-repository \(from software-properties-common\) [\#323](https://github.com/nubisproject/nubis-base/pull/323) ([gozer](https://github.com/gozer))
- Move running packer-bootstrap back to where it belongs, before everything else [\#321](https://github.com/nubisproject/nubis-base/pull/321) ([gozer](https://github.com/gozer))
- We don't even need Consul enabled, really, we deal with it ourselves [\#319](https://github.com/nubisproject/nubis-base/pull/319) ([gozer](https://github.com/gozer))
- Upgrade ubuntu puppet to 3.8.6-1puppetlabs1 [\#317](https://github.com/nubisproject/nubis-base/pull/317) ([gozer](https://github.com/gozer))
- nubis-puppet-mig version bump [\#315](https://github.com/nubisproject/nubis-base/pull/315) ([limed](https://github.com/limed))
- fix silly one character tyop in nubis-purpose [\#310](https://github.com/nubisproject/nubis-base/pull/310) ([gozer](https://github.com/gozer))
- Use HTTPS when bootstrapping consul [\#309](https://github.com/nubisproject/nubis-base/pull/309) ([gozer](https://github.com/gozer))
- Upgrade and cleanup our puppet modules [\#308](https://github.com/nubisproject/nubis-base/pull/308) ([gozer](https://github.com/gozer))
- Remove a provisioner line [\#307](https://github.com/nubisproject/nubis-base/pull/307) ([limed](https://github.com/limed))
- Improve comments and handle a bit better the case [\#306](https://github.com/nubisproject/nubis-base/pull/306) ([gozer](https://github.com/gozer))
- Create a small nubis-purpose wrapper script to work with our specified purpose [\#302](https://github.com/nubisproject/nubis-base/pull/302) ([gozer](https://github.com/gozer))
- Upgrade to credstash 1.9.1 [\#297](https://github.com/nubisproject/nubis-base/pull/297) ([gozer](https://github.com/gozer))
- Upgrade to confd 0.11.0 [\#295](https://github.com/nubisproject/nubis-base/pull/295) ([gozer](https://github.com/gozer))
- Restart confd once Consul is bootstrapped [\#293](https://github.com/nubisproject/nubis-base/pull/293) ([gozer](https://github.com/gozer))
- Upgraade to Consul v0.6.2 [\#290](https://github.com/nubisproject/nubis-base/pull/290) ([gozer](https://github.com/gozer))
- Bump ami id and version number [\#288](https://github.com/nubisproject/nubis-base/pull/288) ([limed](https://github.com/limed))
- Move datadog.json from the packer provisioner to puppet, this provisioner just copies a script to /usr/local/bin so instead of having packer do it, we make puppet do it. Fixes issue \#283 [\#287](https://github.com/nubisproject/nubis-base/pull/287) ([limed](https://github.com/limed))
- Move the housekeeper script fron nubis-builder to here [\#286](https://github.com/nubisproject/nubis-base/pull/286) ([gozer](https://github.com/gozer))
- Move the housekeeper script fron nubis-builder to here [\#284](https://github.com/nubisproject/nubis-base/pull/284) ([gozer](https://github.com/gozer))
- nubis-lib cleanup [\#281](https://github.com/nubisproject/nubis-base/pull/281) ([limed](https://github.com/limed))
- Fixing puppet module name error [\#278](https://github.com/nubisproject/nubis-base/pull/278) ([limed](https://github.com/limed))
- Replace inline puppet class with a module, fixes issue \#214 [\#276](https://github.com/nubisproject/nubis-base/pull/276) ([limed](https://github.com/limed))
- Add nubis secret wrapper script, fixes issue \#271 [\#275](https://github.com/nubisproject/nubis-base/pull/275) ([limed](https://github.com/limed))
- Use /etc/consul/zzz-join.skip as an auto-join skipping flag file [\#274](https://github.com/nubisproject/nubis-base/pull/274) ([gozer](https://github.com/gozer))
- create the auto-join config file \*only\* if it's not there already [\#270](https://github.com/nubisproject/nubis-base/pull/270) ([gozer](https://github.com/gozer))
- Remove all Consul server specific bits out of out startup. [\#268](https://github.com/nubisproject/nubis-base/pull/268) ([gozer](https://github.com/gozer))
- More fixing, unfortunately our Puppet is apparently too old to follow symlinks like I was hoping. [\#267](https://github.com/nubisproject/nubis-base/pull/267) ([gozer](https://github.com/gozer))
- Fix consul startup on RHEL [\#266](https://github.com/nubisproject/nubis-base/pull/266) ([gozer](https://github.com/gozer))
- Fix Consul startup on RHEL [\#265](https://github.com/nubisproject/nubis-base/pull/265) ([gozer](https://github.com/gozer))
- Ensure dnsmasq doesnt start running during nubis builds [\#264](https://github.com/nubisproject/nubis-base/pull/264) ([gozer](https://github.com/gozer))
- add missing $LOGGER [\#260](https://github.com/nubisproject/nubis-base/pull/260) ([gozer](https://github.com/gozer))
- Move Consul startup out of rc.local and into /etc/nubis.d/00-consul [\#259](https://github.com/nubisproject/nubis-base/pull/259) ([gozer](https://github.com/gozer))
- Upgrade Consul to v0.6.0 [\#257](https://github.com/nubisproject/nubis-base/pull/257) ([gozer](https://github.com/gozer))
- Upgrade to credstash v1.8, fixes \#255 [\#256](https://github.com/nubisproject/nubis-base/pull/256) ([gozer](https://github.com/gozer))
- Update MIG agent to 20160126-1.c128226 [\#299](https://github.com/nubisproject/nubis-base/pull/299) ([ameihm0912](https://github.com/ameihm0912))

## [v1.0.1](https://github.com/nubisproject/nubis-base/tree/v1.0.1) (2015-11-20)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.0.0...v1.0.1)

**Implemented enhancements:**

- Puppet directory permissions are to restrictive [\#241](https://github.com/nubisproject/nubis-base/issues/241)
- Integrate proxy config in base [\#240](https://github.com/nubisproject/nubis-base/issues/240)
- Need cloudformation template for testing base builds [\#239](https://github.com/nubisproject/nubis-base/issues/239)
- \[confd\] Install cron watchdog [\#230](https://github.com/nubisproject/nubis-base/issues/230)
- \[consul\] disable ping check to google.com [\#228](https://github.com/nubisproject/nubis-base/issues/228)
- \[dnsmasq\] bind only on the loopback interface [\#205](https://github.com/nubisproject/nubis-base/issues/205)

**Fixed bugs:**

- Remove puppet module extraction [\#244](https://github.com/nubisproject/nubis-base/issues/244)
- \[mig\] New version of mig doesn't like trailing '/' in default API endpoint URL [\#242](https://github.com/nubisproject/nubis-base/issues/242)
- Make sure lsb\_release is present, looks like MiG needs it. [\#231](https://github.com/nubisproject/nubis-base/issues/231)
- Fluentd agent log paths are hard coded [\#92](https://github.com/nubisproject/nubis-base/issues/92)

**Closed issues:**

- Tag  release [\#245](https://github.com/nubisproject/nubis-base/issues/245)
- \[confd\] Make sure we restart confd once Consul is configured and up and running [\#237](https://github.com/nubisproject/nubis-base/issues/237)
- \[proxy\] Need to make sure 169.254.169.254 \(ec2 metadata service\) isn't proxied [\#235](https://github.com/nubisproject/nubis-base/issues/235)
- \[fluentd\] doesn't run as root like expected on ubuntu. [\#221](https://github.com/nubisproject/nubis-base/issues/221)
- \[mig\] relay agent needs to be configurable [\#219](https://github.com/nubisproject/nubis-base/issues/219)
- Update MiG to 20150929 [\#218](https://github.com/nubisproject/nubis-base/issues/218)
- Pin fluent-plugin-ec2-metadata at a specific version [\#216](https://github.com/nubisproject/nubis-base/issues/216)
- \[fluent\] Ensure td-agent is running [\#203](https://github.com/nubisproject/nubis-base/issues/203)
- \[Amazon Linux\] Sendmail is installed [\#200](https://github.com/nubisproject/nubis-base/issues/200)
- Upgrade confd to v0.10.0 [\#198](https://github.com/nubisproject/nubis-base/issues/198)
- Tag v1.0.1 release [\#246](https://github.com/nubisproject/nubis-base/issues/246)
- Mig process not starting up [\#199](https://github.com/nubisproject/nubis-base/issues/199)
- Bump nubis-puppet-eip version [\#195](https://github.com/nubisproject/nubis-base/issues/195)

**Merged pull requests:**

- Update CHANGELOG for v1.0.1 release [\#252](https://github.com/nubisproject/nubis-base/pull/252) ([tinnightcap](https://github.com/tinnightcap))
- Update AMI IDs file for v1.0.1 release [\#250](https://github.com/nubisproject/nubis-base/pull/250) ([tinnightcap](https://github.com/tinnightcap))
- Update StacksVersion for v1.0.1 release [\#249](https://github.com/nubisproject/nubis-base/pull/249) ([tinnightcap](https://github.com/tinnightcap))
- Make sure the default MiG API endpoint isn't '/' terminated [\#243](https://github.com/nubisproject/nubis-base/pull/243) ([gozer](https://github.com/gozer))
- Restart confd once Consul is good to go [\#238](https://github.com/nubisproject/nubis-base/pull/238) ([gozer](https://github.com/gozer))
- Add EC2 metadata service to no\_proxies list [\#236](https://github.com/nubisproject/nubis-base/pull/236) ([gozer](https://github.com/gozer))
- Ensure lsb\_release is installed \(dependency for MiG\) [\#234](https://github.com/nubisproject/nubis-base/pull/234) ([gozer](https://github.com/gozer))
- Remove simplistic node liveness health-check, it's failure prone and is useless [\#233](https://github.com/nubisproject/nubis-base/pull/233) ([gozer](https://github.com/gozer))
- Install a confd service watchdog. [\#232](https://github.com/nubisproject/nubis-base/pull/232) ([gozer](https://github.com/gozer))
- Add cloudformation for testing nubis-base builds [\#226](https://github.com/nubisproject/nubis-base/pull/226) ([tinnightcap](https://github.com/tinnightcap))
- Add proxy configuration to base [\#225](https://github.com/nubisproject/nubis-base/pull/225) ([tinnightcap](https://github.com/tinnightcap))
- Remove nubis-puppet-eip since this is used on a case by case basis [\#224](https://github.com/nubisproject/nubis-base/pull/224) ([limed](https://github.com/limed))
- Ensure td-agent runs on root on ubuntu [\#223](https://github.com/nubisproject/nubis-base/pull/223) ([gozer](https://github.com/gozer))
- Add a /config/relay\_user Consul var, to configure the mig relay user [\#222](https://github.com/nubisproject/nubis-base/pull/222) ([gozer](https://github.com/gozer))
- Upgrade mig [\#220](https://github.com/nubisproject/nubis-base/pull/220) ([gozer](https://github.com/gozer))
- Pin fluent-plugin-ec2-metadata at 0.0.7 \(latest\) [\#217](https://github.com/nubisproject/nubis-base/pull/217) ([gozer](https://github.com/gozer))
- Remove Jenkins-specific puppet modules. [\#215](https://github.com/nubisproject/nubis-base/pull/215) ([gozer](https://github.com/gozer))
- Upgrade confd to v0.10.0 [\#213](https://github.com/nubisproject/nubis-base/pull/213) ([limed](https://github.com/limed))
- Adjust puppet directory permissions [\#212](https://github.com/nubisproject/nubis-base/pull/212) ([tinnightcap](https://github.com/tinnightcap))
- Remove extracting as it is now done in bulder [\#211](https://github.com/nubisproject/nubis-base/pull/211) ([tinnightcap](https://github.com/tinnightcap))
- Cleanup some modules that are not being used [\#210](https://github.com/nubisproject/nubis-base/pull/210) ([limed](https://github.com/limed))
- fix typo, its source, not content [\#207](https://github.com/nubisproject/nubis-base/pull/207) ([gozer](https://github.com/gozer))
- There is no reason to have dnsmasq bind on anything beside loopback [\#206](https://github.com/nubisproject/nubis-base/pull/206) ([gozer](https://github.com/gozer))
- Ensure we restart td-agent \(fluent\) as a watchdog cron job just in case of crash [\#204](https://github.com/nubisproject/nubis-base/pull/204) ([gozer](https://github.com/gozer))
- Adjust logging for RedHat variants as well as Debian [\#202](https://github.com/nubisproject/nubis-base/pull/202) ([gozer](https://github.com/gozer))
- ensure sendmail isnt installed, fixes \#200 [\#201](https://github.com/nubisproject/nubis-base/pull/201) ([gozer](https://github.com/gozer))
- Version bump [\#196](https://github.com/nubisproject/nubis-base/pull/196) ([limed](https://github.com/limed))
- Update mig agent version and use centralized public pkg dist URL [\#229](https://github.com/nubisproject/nubis-base/pull/229) ([ameihm0912](https://github.com/ameihm0912))

## [v1.0.0](https://github.com/nubisproject/nubis-base/tree/v1.0.0) (2015-08-31)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.9.0...v1.0.0)

**Implemented enhancements:**

- Include nubis-puppet-eip in nubis-base [\#164](https://github.com/nubisproject/nubis-base/issues/164)

**Fixed bugs:**

- \[amazon-linux\] Have dhclient.conf set dnsmasq as our preferred resolver [\#180](https://github.com/nubisproject/nubis-base/issues/180)
- \[amazon-linux\] dnsmasq isn't the default resolver [\#170](https://github.com/nubisproject/nubis-base/issues/170)
- \[amazon-linux\] Disable automatic security updates on boot [\#153](https://github.com/nubisproject/nubis-base/issues/153)
- Consul bootstrap uses a jq 1.4 feature, not available  yet. [\#187](https://github.com/nubisproject/nubis-base/issues/187)

**Closed issues:**

- Consul retry\_join can't contain port numbers [\#178](https://github.com/nubisproject/nubis-base/issues/178)
- \[consul\] use /v1/status/peers to auto join nodes from the UI instead of relying [\#175](https://github.com/nubisproject/nubis-base/issues/175)
- \[amazon-linux\] dnsmasq isn't configured to forward to the DHCP provided nameserver [\#171](https://github.com/nubisproject/nubis-base/issues/171)
- Consul not starting up [\#168](https://github.com/nubisproject/nubis-base/issues/168)
- Include CPAN puppet module [\#161](https://github.com/nubisproject/nubis-base/issues/161)
- consul-template broken [\#159](https://github.com/nubisproject/nubis-base/issues/159)
- consul-do is not executable [\#157](https://github.com/nubisproject/nubis-base/issues/157)
- Install consulate on base images [\#150](https://github.com/nubisproject/nubis-base/issues/150)
- The DNS portion to discover Consul is hard-coded. [\#143](https://github.com/nubisproject/nubis-base/issues/143)
- Install credstash on base images [\#152](https://github.com/nubisproject/nubis-base/issues/152)
- Tag v1.0.0 release [\#148](https://github.com/nubisproject/nubis-base/issues/148)
- \[puppet\] Update outdated modules [\#138](https://github.com/nubisproject/nubis-base/issues/138)

**Merged pull requests:**

- PR for v1.0.0 release [\#191](https://github.com/nubisproject/nubis-base/pull/191) ([gozer](https://github.com/gozer))
- Update CHANGELOG for v1.0.0 [\#190](https://github.com/nubisproject/nubis-base/pull/190) ([gozer](https://github.com/gozer))
- Use perl to remove the port number from hosts, as jq's split\(\) is off limits for now [\#189](https://github.com/nubisproject/nubis-base/pull/189) ([gozer](https://github.com/gozer))
- Turn the Consul bootstrap script into something that's a lot more resilient to failures of all kinds. [\#186](https://github.com/nubisproject/nubis-base/pull/186) ([gozer](https://github.com/gozer))
- Prepend nameserver 127.0.0.1 if amazon linux [\#185](https://github.com/nubisproject/nubis-base/pull/185) ([limed](https://github.com/limed))
- Consul: Datacenter must be alpha-numeric with underscores and hypens only [\#184](https://github.com/nubisproject/nubis-base/pull/184) ([gozer](https://github.com/gozer))
- Add support for a new user-data variable, NUBIS\_ACOUNT. [\#183](https://github.com/nubisproject/nubis-base/pull/183) ([gozer](https://github.com/gozer))
- Plumbing to get nubis-lib included in base image [\#182](https://github.com/nubisproject/nubis-base/pull/182) ([limed](https://github.com/limed))
- Remove port numbers from peers, as retry\_join doesn't like it [\#179](https://github.com/nubisproject/nubis-base/pull/179) ([gozer](https://github.com/gozer))
- Use the Consul UI to discover peers first, then fallback on our DNS join endpoint [\#177](https://github.com/nubisproject/nubis-base/pull/177) ([gozer](https://github.com/gozer))
- Install consulate in base images [\#174](https://github.com/nubisproject/nubis-base/pull/174) ([limed](https://github.com/limed))
- \[do-not-merge\] \[review-request\] Nubis bash library [\#173](https://github.com/nubisproject/nubis-base/pull/173) ([limed](https://github.com/limed))
- Extra comma causes consul to not startup [\#169](https://github.com/nubisproject/nubis-base/pull/169) ([limed](https://github.com/limed))
- Missing comma [\#166](https://github.com/nubisproject/nubis-base/pull/166) ([limed](https://github.com/limed))
- Add nubis-puppet-eip module to Puppetfile [\#165](https://github.com/nubisproject/nubis-base/pull/165) ([limed](https://github.com/limed))
- Include meltwater/cpan 1.0.1 [\#162](https://github.com/nubisproject/nubis-base/pull/162) ([gozer](https://github.com/gozer))
- Fix incorrect references to consul-template 0.7.0. Fixes \#159 [\#160](https://github.com/nubisproject/nubis-base/pull/160) ([gozer](https://github.com/gozer))
- consul-do permission fix [\#158](https://github.com/nubisproject/nubis-base/pull/158) ([limed](https://github.com/limed))
- Include credstash in the base images [\#156](https://github.com/nubisproject/nubis-base/pull/156) ([gozer](https://github.com/gozer))
- Disable Amazon Linux auto-updating in our base images, and make sure it stays disabled in derived images. [\#155](https://github.com/nubisproject/nubis-base/pull/155) ([gozer](https://github.com/gozer))
- Upgrade modules from \#138 [\#151](https://github.com/nubisproject/nubis-base/pull/151) ([gozer](https://github.com/gozer))
- Don't break with SSL RSA keys \(as generated on a Mac\) [\#149](https://github.com/nubisproject/nubis-base/pull/149) ([gozer](https://github.com/gozer))
- Add support for CONSUL\_ACL\_TOKEN in bootstrap. [\#146](https://github.com/nubisproject/nubis-base/pull/146) ([gozer](https://github.com/gozer))
- When we detect we are a Consul server, use NUBIS\_PROJECT to build the DNS discovery name, don't hard-code .consul. Fixes \#143 [\#144](https://github.com/nubisproject/nubis-base/pull/144) ([gozer](https://github.com/gozer))
- Add support for 3 more Consul Server bootstrap options: [\#142](https://github.com/nubisproject/nubis-base/pull/142) ([gozer](https://github.com/gozer))

## [v0.9.0](https://github.com/nubisproject/nubis-base/tree/v0.9.0) (2015-07-23)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.79...v0.9.0)

**Closed issues:**

- Move the creation of /etc/puppet/nubis/{files,templates} to the base image [\#134](https://github.com/nubisproject/nubis-base/issues/134)
- Create a convenient way for puppet manifests to reference packaged files [\#116](https://github.com/nubisproject/nubis-base/issues/116)
- Add auditd, and other opsec required components to base [\#63](https://github.com/nubisproject/nubis-base/issues/63)

**Merged pull requests:**

- Updating changelog for v0.9.0 release [\#141](https://github.com/nubisproject/nubis-base/pull/141) ([gozer](https://github.com/gozer))
- adding openldap module to Puppetfile [\#137](https://github.com/nubisproject/nubis-base/pull/137) ([jdow](https://github.com/jdow))
- fix ordering issue [\#136](https://github.com/nubisproject/nubis-base/pull/136) ([gozer](https://github.com/gozer))
- Move creation of /etc/puppet/nubis/{files,templates} to base image. Fixes \#134 [\#135](https://github.com/nubisproject/nubis-base/pull/135) ([gozer](https://github.com/gozer))
- Ubuntu repositories have very old versions of the ec2-ami-tools that just don't work at all. [\#130](https://github.com/nubisproject/nubis-base/pull/130) ([gozer](https://github.com/gozer))

## [v0.79](https://github.com/nubisproject/nubis-base/tree/v0.79) (2015-06-11)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.1...v0.79)

## [v0.1](https://github.com/nubisproject/nubis-base/tree/v0.1) (2015-06-11)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v1.35...v0.1)

**Closed issues:**

- Upgrade to consul-template 0.10.0 [\#125](https://github.com/nubisproject/nubis-base/issues/125)
- Replace ec2metadata usage with good old curl [\#113](https://github.com/nubisproject/nubis-base/issues/113)
- gozer-confd only installs an upstart script, needs fixing for RedHats [\#112](https://github.com/nubisproject/nubis-base/issues/112)
- Amazon Linux AMIs need the ec2metadata tool present. [\#111](https://github.com/nubisproject/nubis-base/issues/111)
- Need to integrate consul-do in the base image [\#10](https://github.com/nubisproject/nubis-base/issues/10)

**Merged pull requests:**

- Upgrade consul-template to 0.10.0, fixes \#125 [\#128](https://github.com/nubisproject/nubis-base/pull/128) ([gozer](https://github.com/gozer))
- Prepare for new feature. Once  nubisproject/nubis-builder PR \#56 lands, contents of nubis/puppet/{files,templates} from the project are automatically copied to the instance, and become available from puppet like so: [\#127](https://github.com/nubisproject/nubis-base/pull/127) ([gozer](https://github.com/gozer))
- adding kibana3 puppet module to Puppetfile for use in elk project [\#126](https://github.com/nubisproject/nubis-base/pull/126) ([jdow](https://github.com/jdow))
- add mkrakowitzer/confluence [\#124](https://github.com/nubisproject/nubis-base/pull/124) ([gozer](https://github.com/gozer))
- small sudo tyop [\#123](https://github.com/nubisproject/nubis-base/pull/123) ([gozer](https://github.com/gozer))
- mode option isnt available yet [\#122](https://github.com/nubisproject/nubis-base/pull/122) ([gozer](https://github.com/gozer))
- TRICKY: /etc/rc.local is a symlink on Amazon Linux, and mv will clobber it, use cp instead [\#121](https://github.com/nubisproject/nubis-base/pull/121) ([gozer](https://github.com/gozer))
- make sure /etc/rc.local is root owned [\#120](https://github.com/nubisproject/nubis-base/pull/120) ([gozer](https://github.com/gozer))
- Switch to official puppet repos for our own puppet modules. [\#119](https://github.com/nubisproject/nubis-base/pull/119) ([gozer](https://github.com/gozer))
- switch to gozers nubis branch for integration [\#118](https://github.com/nubisproject/nubis-base/pull/118) ([gozer](https://github.com/gozer))
- include consul-do, closes \#10 [\#117](https://github.com/nubisproject/nubis-base/pull/117) ([gozer](https://github.com/gozer))
- convert to curl instaed of ec2metadata, fixes issue \#113 [\#114](https://github.com/nubisproject/nubis-base/pull/114) ([gozer](https://github.com/gozer))
- gozer's fork has minimal upstart support, upstream doesn't [\#110](https://github.com/nubisproject/nubis-base/pull/110) ([gozer](https://github.com/gozer))

## [v1.35](https://github.com/nubisproject/nubis-base/tree/v1.35) (2015-06-04)
[Full Changelog](https://github.com/nubisproject/nubis-base/compare/v0.165...v1.35)

**Fixed bugs:**

- Amazon linux doesn't work [\#84](https://github.com/nubisproject/nubis-base/issues/84)

**Closed issues:**

- Merge nubis-puppet in [\#101](https://github.com/nubisproject/nubis-base/issues/101)
- Upgrade confd to 0.9.0 [\#100](https://github.com/nubisproject/nubis-base/issues/100)
- upstart gives up on confd [\#94](https://github.com/nubisproject/nubis-base/issues/94)
- SPAM [\#91](https://github.com/nubisproject/nubis-base/issues/91)
- Disable the creation of /etc/nubis-release [\#81](https://github.com/nubisproject/nubis-base/issues/81)
- Need to integrate envconsul in the base image [\#66](https://github.com/nubisproject/nubis-base/issues/66)
- Move our nubis-puppet stuff to /etc/puppet/modules so they are in a default [\#65](https://github.com/nubisproject/nubis-base/issues/65)
- Make AMIs public by default once we are happy with our state [\#53](https://github.com/nubisproject/nubis-base/issues/53)
- Build vagrant images for local development in addition to deployable AMIs [\#39](https://github.com/nubisproject/nubis-base/issues/39)
- We need a tool to drive packer and publish AMIs \(and possibly other outputs\) into Consul [\#32](https://github.com/nubisproject/nubis-base/issues/32)
- Need to integrate consul-template in the base images [\#11](https://github.com/nubisproject/nubis-base/issues/11)

**Merged pull requests:**

- Add ElasticSearch [\#108](https://github.com/nubisproject/nubis-base/pull/108) ([gozer](https://github.com/gozer))
- reorder [\#107](https://github.com/nubisproject/nubis-base/pull/107) ([gozer](https://github.com/gozer))
- Upgrade puppet modules: \(fixes nubisproject/nubis-puppet \#41\) [\#106](https://github.com/nubisproject/nubis-base/pull/106) ([gozer](https://github.com/gozer))
- Move nubis-puppet into nubis-base, closes \#101 [\#105](https://github.com/nubisproject/nubis-base/pull/105) ([gozer](https://github.com/gozer))
- upgrade confd to 0.9.0 for issue \#100 [\#104](https://github.com/nubisproject/nubis-base/pull/104) ([gozer](https://github.com/gozer))
- Include MIG in the base imge [\#103](https://github.com/nubisproject/nubis-base/pull/103) ([gozer](https://github.com/gozer))
- Upgrade consul to 0.5.2 [\#102](https://github.com/nubisproject/nubis-base/pull/102) ([gozer](https://github.com/gozer))
- Fix bootup auto-discovery [\#99](https://github.com/nubisproject/nubis-base/pull/99) ([gozer](https://github.com/gozer))
- Fix broken logic in bootup NUBIS\_DOMAIN handling, it was always defaulting [\#98](https://github.com/nubisproject/nubis-base/pull/98) ([gozer](https://github.com/gozer))
- version bump [\#97](https://github.com/nubisproject/nubis-base/pull/97) ([gozer](https://github.com/gozer))
- Just to be tidy, perform a full Consul nuke and restart after bootstraping it [\#96](https://github.com/nubisproject/nubis-base/pull/96) ([gozer](https://github.com/gozer))
- Add consul-based auto-discovery-bootstrap juju. [\#95](https://github.com/nubisproject/nubis-base/pull/95) ([gozer](https://github.com/gozer))
- Addressing https://github.com/Nubisproject/nubis-base/issues/81 [\#93](https://github.com/nubisproject/nubis-base/pull/93) ([bhourigan](https://github.com/bhourigan))
- include gcc [\#90](https://github.com/nubisproject/nubis-base/pull/90) ([gozer](https://github.com/gozer))
- Fix ruby-dev name picking on Debian vs RH distros [\#89](https://github.com/nubisproject/nubis-base/pull/89) ([gozer](https://github.com/gozer))
- Solving issue 84 [\#88](https://github.com/nubisproject/nubis-base/pull/88) ([bhourigan](https://github.com/bhourigan))
- add ec2-metadata to forwarded logs [\#87](https://github.com/nubisproject/nubis-base/pull/87) ([gozer](https://github.com/gozer))
- add missing dependency for the EC2 fluentd plugin [\#86](https://github.com/nubisproject/nubis-base/pull/86) ([gozer](https://github.com/gozer))
- All forwarded fluentd logs need to start with forward. [\#85](https://github.com/nubisproject/nubis-base/pull/85) ([gozer](https://github.com/gozer))
- one more debgging bit [\#83](https://github.com/nubisproject/nubis-base/pull/83) ([gozer](https://github.com/gozer))
- more verbose startup [\#82](https://github.com/nubisproject/nubis-base/pull/82) ([gozer](https://github.com/gozer))
- Revert "Revert "disable amazon-instance-ubuntu for now, ec2-upload-bundle is borked with IAM roles"" [\#80](https://github.com/nubisproject/nubis-base/pull/80) ([gozer](https://github.com/gozer))
- Datadog integration with Consul [\#79](https://github.com/nubisproject/nubis-base/pull/79) ([gozer](https://github.com/gozer))
- Revert "disable amazon-instance-ubuntu for now, ec2-upload-bundle is bor... [\#78](https://github.com/nubisproject/nubis-base/pull/78) ([bhourigan](https://github.com/bhourigan))
- disable amazon-instance-ubuntu for now, ec2-upload-bundle is borked with IAM roles [\#77](https://github.com/nubisproject/nubis-base/pull/77) ([gozer](https://github.com/gozer))
- After battling the real issue behind the dnsmasq race-conditon, finally fixed it. [\#76](https://github.com/nubisproject/nubis-base/pull/76) ([gozer](https://github.com/gozer))
- Initial stub install of the datadog agent, still missing the secret bits [\#75](https://github.com/nubisproject/nubis-base/pull/75) ([gozer](https://github.com/gozer))
- Make Consul more aggressive about trying to join the cluster [\#74](https://github.com/nubisproject/nubis-base/pull/74) ([gozer](https://github.com/gozer))
- fix shell munging of user-data [\#73](https://github.com/nubisproject/nubis-base/pull/73) ([gozer](https://github.com/gozer))
- Update to Consul 0.5.0 with support for TLS [\#72](https://github.com/nubisproject/nubis-base/pull/72) ([gozer](https://github.com/gozer))
- bump [\#70](https://github.com/nubisproject/nubis-base/pull/70) ([gozer](https://github.com/gozer))
- Fix typo in JSON [\#69](https://github.com/nubisproject/nubis-base/pull/69) ([gozer](https://github.com/gozer))
- Addressing https://github.com/Nubisproject/nubis-base/issues/65 [\#68](https://github.com/nubisproject/nubis-base/pull/68) ([bhourigan](https://github.com/bhourigan))
- add support for Consul bootstrap via user-data [\#64](https://github.com/nubisproject/nubis-base/pull/64) ([gozer](https://github.com/gozer))
- use nubis::discovery::check as a basic liveness check [\#61](https://github.com/nubisproject/nubis-base/pull/61) ([gozer](https://github.com/gozer))
- Add a simple consul node liveness check, a ping for google.com \(temoprary\) [\#60](https://github.com/nubisproject/nubis-base/pull/60) ([gozer](https://github.com/gozer))
- Changing nubis/packer to nubis/builder, and fixing instance-store builds [\#59](https://github.com/nubisproject/nubis-base/pull/59) ([bhourigan](https://github.com/bhourigan))
- updated to 2.26 [\#58](https://github.com/nubisproject/nubis-base/pull/58) ([gozer](https://github.com/gozer))
- fix ordering issue [\#57](https://github.com/nubisproject/nubis-base/pull/57) ([gozer](https://github.com/gozer))
- puppet-lint [\#56](https://github.com/nubisproject/nubis-base/pull/56) ([gozer](https://github.com/gozer))
- Nubis builder converstion [\#55](https://github.com/nubisproject/nubis-base/pull/55) ([bhourigan](https://github.com/bhourigan))
- Fixing a bug in AMI namespace collision [\#54](https://github.com/nubisproject/nubis-base/pull/54) ([bhourigan](https://github.com/bhourigan))
- Incorporating improvements as discussed earlier today [\#52](https://github.com/nubisproject/nubis-base/pull/52) ([bhourigan](https://github.com/bhourigan))
- Numerous bug fixes [\#51](https://github.com/nubisproject/nubis-base/pull/51) ([bhourigan](https://github.com/bhourigan))
- Added automatic base AMI discovery, changed make target names, augmented README.md [\#50](https://github.com/nubisproject/nubis-base/pull/50) ([bhourigan](https://github.com/bhourigan))

## [v0.165](https://github.com/nubisproject/nubis-base/tree/v0.165) (2015-02-16)
**Closed issues:**

- Create an /etc/nubis-release file in the base images for release identification [\#45](https://github.com/nubisproject/nubis-base/issues/45)
- let's be consistent and install librarian-puppet in the base image [\#35](https://github.com/nubisproject/nubis-base/issues/35)
- Need to look into building a base image from Amazon Linux AMIs as well as Ubuntu. [\#27](https://github.com/nubisproject/nubis-base/issues/27)
- Integrate jq in the base image [\#14](https://github.com/nubisproject/nubis-base/issues/14)
- Need to integrate a log forwarder in the base image [\#12](https://github.com/nubisproject/nubis-base/issues/12)
- Need to get a provisionner working with amazon-instance [\#9](https://github.com/nubisproject/nubis-base/issues/9)
- Need to cleanly solve the MTA issue in the base image \(sendmail is not great\) [\#3](https://github.com/nubisproject/nubis-base/issues/3)
- Need to integrate confd in the base image [\#2](https://github.com/nubisproject/nubis-base/issues/2)
- Need to integrate consul agent in the base images [\#1](https://github.com/nubisproject/nubis-base/issues/1)

**Merged pull requests:**

- Built Nubis Base 0.165 [\#48](https://github.com/nubisproject/nubis-base/pull/48) ([gozer](https://github.com/gozer))
- Tyop fix [\#47](https://github.com/nubisproject/nubis-base/pull/47) ([gozer](https://github.com/gozer))
- Add a /etc/nubis-release file to images. Fixes issue \#45 [\#46](https://github.com/nubisproject/nubis-base/pull/46) ([gozer](https://github.com/gozer))
- Made 0.163 AMIs [\#44](https://github.com/nubisproject/nubis-base/pull/44) ([gozer](https://github.com/gozer))
- Instead of dropping a code specific /etc/rc.local, use run-parts to execute [\#43](https://github.com/nubisproject/nubis-base/pull/43) ([gozer](https://github.com/gozer))
- Docs [\#42](https://github.com/nubisproject/nubis-base/pull/42) ([gozer](https://github.com/gozer))
- Fixed bug in puppet package pinning and added -dist file for variables.json [\#41](https://github.com/nubisproject/nubis-base/pull/41) ([bhourigan](https://github.com/bhourigan))
- enable a log forwarded to a Consul DNS discovery server [\#40](https://github.com/nubisproject/nubis-base/pull/40) ([gozer](https://github.com/gozer))
- dont invoke packer by default [\#38](https://github.com/nubisproject/nubis-base/pull/38) ([gozer](https://github.com/gozer))
- Bumping release, and changed AMI id for amazon instance store builder [\#37](https://github.com/nubisproject/nubis-base/pull/37) ([bhourigan](https://github.com/bhourigan))
- Bumping release and removing nubis-hiera from main.json [\#36](https://github.com/nubisproject/nubis-base/pull/36) ([bhourigan](https://github.com/bhourigan))
- Updating AMI ID to Ubuntu utopic 14.10, released 20141204 [\#34](https://github.com/nubisproject/nubis-base/pull/34) ([bhourigan](https://github.com/bhourigan))
- switch to release.build in versionning [\#33](https://github.com/nubisproject/nubis-base/pull/33) ([gozer](https://github.com/gozer))
- Revert "use jq to manage the release.json file" [\#31](https://github.com/nubisproject/nubis-base/pull/31) ([gozer](https://github.com/gozer))
- Install jq, a cool JSON cli query tool in the base image. [\#30](https://github.com/nubisproject/nubis-base/pull/30) ([gozer](https://github.com/gozer))
- Silence the tar job a little [\#29](https://github.com/nubisproject/nubis-base/pull/29) ([gozer](https://github.com/gozer))
- Include DNSMasq in the base image [\#28](https://github.com/nubisproject/nubis-base/pull/28) ([gozer](https://github.com/gozer))
- bump version [\#26](https://github.com/nubisproject/nubis-base/pull/26) ([gozer](https://github.com/gozer))
- Just some cleaning ups [\#25](https://github.com/nubisproject/nubis-base/pull/25) ([gozer](https://github.com/gozer))
- Finish up confd integration. [\#24](https://github.com/nubisproject/nubis-base/pull/24) ([gozer](https://github.com/gozer))
- move terraform semples under nubis/ [\#23](https://github.com/nubisproject/nubis-base/pull/23) ([gozer](https://github.com/gozer))
- move base puppet manifests in tree [\#22](https://github.com/nubisproject/nubis-base/pull/22) ([gozer](https://github.com/gozer))
- use instance-id for node name [\#21](https://github.com/nubisproject/nubis-base/pull/21) ([gozer](https://github.com/gozer))
- Documenting release.sh [\#20](https://github.com/nubisproject/nubis-base/pull/20) ([bhourigan](https://github.com/bhourigan))
- add a simple terraform template to just launch one base image with consul lookups [\#19](https://github.com/nubisproject/nubis-base/pull/19) ([gozer](https://github.com/gozer))
- Add consul auto-discovery in packer template. Needs to move into puppet eventually [\#18](https://github.com/nubisproject/nubis-base/pull/18) ([gozer](https://github.com/gozer))
- Convert base to use puppet-librarian itself too to pull in nubis-puppet [\#17](https://github.com/nubisproject/nubis-base/pull/17) ([gozer](https://github.com/gozer))
- Adding back manifest\_file until patch is accepted upstream [\#16](https://github.com/nubisproject/nubis-base/pull/16) ([bhourigan](https://github.com/bhourigan))
- add support for IAM instance profiles [\#15](https://github.com/nubisproject/nubis-base/pull/15) ([gozer](https://github.com/gozer))
- see commits [\#13](https://github.com/nubisproject/nubis-base/pull/13) ([bhourigan](https://github.com/bhourigan))
- Adding MPL2 License [\#8](https://github.com/nubisproject/nubis-base/pull/8) ([tinnightcap](https://github.com/tinnightcap))
- Initial commit of updated main.json and bootstrap script which installs ... [\#7](https://github.com/nubisproject/nubis-base/pull/7) ([bhourigan](https://github.com/bhourigan))
- add bare-bones registry [\#6](https://github.com/nubisproject/nubis-base/pull/6) ([gozer](https://github.com/gozer))
- cleanup and doc [\#5](https://github.com/nubisproject/nubis-base/pull/5) ([gozer](https://github.com/gozer))
- Base import [\#4](https://github.com/nubisproject/nubis-base/pull/4) ([gozer](https://github.com/gozer))


\* *This Change Log was automatically generated by [github_changelog_generator](https://github.com/skywinder/Github-Changelog-Generator)*